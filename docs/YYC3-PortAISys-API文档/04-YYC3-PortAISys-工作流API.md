# YYCÂ³ PortAISys - å·¥ä½œæµAPI

> ***YanYuCloudCube***
> è¨€å¯è±¡é™ | è¯­æ¢æœªæ¥
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> ä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **åˆ›å»ºæ—¥æœŸ**: 2026-02-03
> **æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ
> **ç»´æŠ¤å›¢é˜Ÿ**: YYCÂ³ äº§å“å›¢é˜Ÿ

---

## ğŸ“‹ ç›®å½•

- [å·¥ä½œæµAPIæ¦‚è¿°](#å·¥ä½œæµapiæ¦‚è¿°)
- [å·¥ä½œæµç®¡ç†](#å·¥ä½œæµç®¡ç†)
- [å·¥ä½œæµæ‰§è¡Œ](#å·¥ä½œæµæ‰§è¡Œ)
- [å·¥ä½œæµæ¨¡æ¿](#å·¥ä½œæµæ¨¡æ¿)
- [å·¥ä½œæµç›‘æ§](#å·¥ä½œæµç›‘æ§)
- [å·¥ä½œæµé›†æˆ](#å·¥ä½œæµé›†æˆ)

---

## å·¥ä½œæµAPIæ¦‚è¿°

### APIç®€ä»‹

YYCÂ³ PortAISyså·¥ä½œæµAPIæä¾›å®Œæ•´çš„å·¥ä½œæµç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬å·¥ä½œæµåˆ›å»ºã€ç¼–è¾‘ã€æ‰§è¡Œã€ç›‘æ§å’Œé›†æˆç­‰åŠŸèƒ½ã€‚æ”¯æŒå¯è§†åŒ–å·¥ä½œæµè®¾è®¡ã€èŠ‚ç‚¹ç¼–æ’ã€æ¡ä»¶åˆ†æ”¯ã€å¾ªç¯ã€å¹¶è¡Œæ‰§è¡Œç­‰é«˜çº§åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- **å·¥ä½œæµè®¾è®¡**: å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨
- **èŠ‚ç‚¹ç¼–æ’**: æ”¯æŒå¤šç§èŠ‚ç‚¹ç±»å‹ï¼ˆAIã€æ•°æ®å¤„ç†ã€æ¡ä»¶ã€å¾ªç¯ç­‰ï¼‰
- **æ‰§è¡Œå¼•æ“**: é«˜æ€§èƒ½å·¥ä½œæµæ‰§è¡Œå¼•æ“
- **ç›‘æ§å‘Šè­¦**: å®æ—¶ç›‘æ§å’Œå‘Šè­¦
- **ç‰ˆæœ¬ç®¡ç†**: å·¥ä½œæµç‰ˆæœ¬æ§åˆ¶
- **é›†æˆèƒ½åŠ›**: æ”¯æŒç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ

### æ”¯æŒçš„èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹ | æè¿° | é€‚ç”¨åœºæ™¯ |
|---------|------|----------|
| **AIèŠ‚ç‚¹** | AIæ¨ç†å’Œå¯¹è¯ | AIä»»åŠ¡å¤„ç† |
| **æ•°æ®èŠ‚ç‚¹** | æ•°æ®å¤„ç†å’Œè½¬æ¢ | æ•°æ®æ¸…æ´—ã€æ ¼å¼è½¬æ¢ |
| **æ¡ä»¶èŠ‚ç‚¹** | æ¡ä»¶åˆ¤æ–­å’Œåˆ†æ”¯ | ä¸šåŠ¡é€»è¾‘åˆ†æ”¯ |
| **å¾ªç¯èŠ‚ç‚¹** | å¾ªç¯æ‰§è¡Œ | æ‰¹é‡å¤„ç† |
| **å¹¶è¡ŒèŠ‚ç‚¹** | å¹¶è¡Œæ‰§è¡Œ | æ€§èƒ½ä¼˜åŒ– |
| **HTTPèŠ‚ç‚¹** | HTTPè¯·æ±‚ | ç¬¬ä¸‰æ–¹æœåŠ¡è°ƒç”¨ |
| **æ•°æ®åº“èŠ‚ç‚¹** | æ•°æ®åº“æ“ä½œ | æ•°æ®æŒä¹…åŒ– |
| **WebhookèŠ‚ç‚¹** | Webhookè§¦å‘ | äº‹ä»¶é©±åŠ¨ |

---

## å·¥ä½œæµç®¡ç†

### åˆ›å»ºå·¥ä½œæµ

**ç«¯ç‚¹**: `POST /v1/workflows`

**æè¿°**: åˆ›å»ºæ–°çš„å·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "name": "AIå†…å®¹ç”Ÿæˆå·¥ä½œæµ",
  "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹å¹¶ä¿å­˜åˆ°æ•°æ®åº“",
  "category": "ai",
  "nodes": [
    {
      "id": "node-1",
      "type": "input",
      "name": "è¾“å…¥èŠ‚ç‚¹",
      "config": {
        "fields": [
          {
            "name": "topic",
            "type": "text",
            "label": "ä¸»é¢˜",
            "required": true
          },
          {
            "name": "length",
            "type": "number",
            "label": "é•¿åº¦",
            "default": 500
          }
        ]
      }
    },
    {
      "id": "node-2",
      "type": "ai",
      "name": "AIç”Ÿæˆ",
      "config": {
        "model": "gpt-4",
        "prompt": "è¯·æ ¹æ®ä»¥ä¸‹ä¸»é¢˜ç”Ÿæˆä¸€ç¯‡{{length}}å­—çš„æ–‡ç« ï¼š{{topic}}",
        "temperature": 0.7,
        "maxTokens": 1000
      }
    },
    {
      "id": "node-3",
      "type": "database",
      "name": "ä¿å­˜åˆ°æ•°æ®åº“",
      "config": {
        "operation": "insert",
        "table": "articles",
        "data": {
          "title": "{{topic}}",
          "content": "{{node-2.output}}",
          "createdAt": "{{now}}"
        }
      }
    },
    {
      "id": "node-4",
      "type": "output",
      "name": "è¾“å‡ºèŠ‚ç‚¹",
      "config": {
        "fields": [
          {
            "name": "articleId",
            "value": "{{node-3.output.id}}"
          },
          {
            "name": "content",
            "value": "{{node-2.output}}"
          }
        ]
      }
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "node-1",
      "target": "node-2"
    },
    {
      "id": "edge-2",
      "source": "node-2",
      "target": "node-3"
    },
    {
      "id": "edge-3",
      "source": "node-3",
      "target": "node-4"
    }
  ],
  "settings": {
    "timeout": 300,
    "retryPolicy": {
      "maxRetries": 3,
      "retryDelay": 1000
    },
    "notification": {
      "onSuccess": true,
      "onFailure": true,
      "webhook": "https://your-app.com/webhook"
    }
  }
}
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| **name** | string | æ˜¯ | å·¥ä½œæµåç§° |
| **description** | string | å¦ | å·¥ä½œæµæè¿° |
| **category** | string | å¦ | å·¥ä½œæµåˆ†ç±» |
| **nodes** | array | æ˜¯ | å·¥ä½œæµèŠ‚ç‚¹æ•°ç»„ |
| **edges** | array | æ˜¯ | å·¥ä½œæµè¾¹ï¼ˆè¿æ¥ï¼‰æ•°ç»„ |
| **settings** | object | å¦ | å·¥ä½œæµè®¾ç½® |

**æˆåŠŸå“åº”** (201):

```json
{
  "success": true,
  "data": {
    "id": "workflow-123",
    "name": "AIå†…å®¹ç”Ÿæˆå·¥ä½œæµ",
    "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹å¹¶ä¿å­˜åˆ°æ•°æ®åº“",
    "category": "ai",
    "version": 1,
    "status": "draft",
    "nodes": [
      {
        "id": "node-1",
        "type": "input",
        "name": "è¾“å…¥èŠ‚ç‚¹",
        "config": {}
      },
      {
        "id": "node-2",
        "type": "ai",
        "name": "AIç”Ÿæˆ",
        "config": {}
      },
      {
        "id": "node-3",
        "type": "database",
        "name": "ä¿å­˜åˆ°æ•°æ®åº“",
        "config": {}
      },
      {
        "id": "node-4",
        "type": "output",
        "name": "è¾“å‡ºèŠ‚ç‚¹",
        "config": {}
      }
    ],
    "edges": [
      {
        "id": "edge-1",
        "source": "node-1",
        "target": "node-2"
      },
      {
        "id": "edge-2",
        "source": "node-2",
        "target": "node-3"
      },
      {
        "id": "edge-3",
        "source": "node-3",
        "target": "node-4"
      }
    ],
    "settings": {
      "timeout": 300,
      "retryPolicy": {
        "maxRetries": 3,
        "retryDelay": 1000
      },
      "notification": {
        "onSuccess": true,
        "onFailure": true,
        "webhook": "https://your-app.com/webhook"
      }
    },
    "createdAt": "2026-02-03T12:00:00.000Z",
    "updatedAt": "2026-02-03T12:00:00.000Z"
  },
  "message": "å·¥ä½œæµåˆ›å»ºæˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### æ›´æ–°å·¥ä½œæµ

**ç«¯ç‚¹**: `PUT /v1/workflows/{workflowId}`

**æè¿°**: æ›´æ–°æŒ‡å®šçš„å·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "name": "AIå†…å®¹ç”Ÿæˆå·¥ä½œæµï¼ˆæ›´æ–°ç‰ˆï¼‰",
  "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹å¹¶ä¿å­˜åˆ°æ•°æ®åº“",
  "nodes": [
    {
      "id": "node-1",
      "type": "input",
      "name": "è¾“å…¥èŠ‚ç‚¹",
      "config": {}
    },
    {
      "id": "node-2",
      "type": "ai",
      "name": "AIç”Ÿæˆ",
      "config": {
        "model": "gpt-4-turbo",
        "prompt": "è¯·æ ¹æ®ä»¥ä¸‹ä¸»é¢˜ç”Ÿæˆä¸€ç¯‡{{length}}å­—çš„æ–‡ç« ï¼š{{topic}}",
        "temperature": 0.8,
        "maxTokens": 2000
      }
    },
    {
      "id": "node-3",
      "type": "database",
      "name": "ä¿å­˜åˆ°æ•°æ®åº“",
      "config": {}
    },
    {
      "id": "node-4",
      "type": "output",
      "name": "è¾“å‡ºèŠ‚ç‚¹",
      "config": {}
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "node-1",
      "target": "node-2"
    },
    {
      "id": "edge-2",
      "source": "node-2",
      "target": "node-3"
    },
    {
      "id": "edge-3",
      "source": "node-3",
      "target": "node-4"
    }
  ]
}
```

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "id": "workflow-123",
    "name": "AIå†…å®¹ç”Ÿæˆå·¥ä½œæµï¼ˆæ›´æ–°ç‰ˆï¼‰",
    "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹å¹¶ä¿å­˜åˆ°æ•°æ®åº“",
    "version": 2,
    "status": "draft",
    "nodes": [],
    "edges": [],
    "settings": {},
    "createdAt": "2026-02-03T12:00:00.000Z",
    "updatedAt": "2026-02-03T12:30:00.000Z"
  },
  "message": "å·¥ä½œæµæ›´æ–°æˆåŠŸ",
  "timestamp": "2026-02-03T12:30:00.000Z"
}
```

### åˆ—å‡ºå·¥ä½œæµ

**ç«¯ç‚¹**: `GET /v1/workflows`

**æè¿°**: è·å–å·¥ä½œæµåˆ—è¡¨ã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| **page** | number | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| **limit** | number | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20 |
| **category** | string | å¦ | å·¥ä½œæµåˆ†ç±» |
| **status** | string | å¦ | å·¥ä½œæµçŠ¶æ€ï¼ˆdraftã€activeã€archivedï¼‰ |
| **search** | string | å¦ | æœç´¢å…³é”®è¯ |

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "items": [
      {
        "id": "workflow-123",
        "name": "AIå†…å®¹ç”Ÿæˆå·¥ä½œæµ",
        "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹å¹¶ä¿å­˜åˆ°æ•°æ®åº“",
        "category": "ai",
        "version": 1,
        "status": "active",
        "nodeCount": 4,
        "executionCount": 150,
        "lastExecutedAt": "2026-02-03T12:00:00.000Z",
        "createdAt": "2026-02-01T12:00:00.000Z",
        "updatedAt": "2026-02-03T12:00:00.000Z"
      },
      {
        "id": "workflow-456",
        "name": "æ•°æ®å¤„ç†å·¥ä½œæµ",
        "description": "æ•°æ®å¤„ç†å’Œè½¬æ¢",
        "category": "data",
        "version": 2,
        "status": "active",
        "nodeCount": 6,
        "executionCount": 89,
        "lastExecutedAt": "2026-02-03T11:00:00.000Z",
        "createdAt": "2026-01-28T12:00:00.000Z",
        "updatedAt": "2026-02-02T12:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 2,
      "totalPages": 1,
      "hasNext": false,
      "hasPrev": false
    }
  },
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### è·å–å·¥ä½œæµè¯¦æƒ…

**ç«¯ç‚¹**: `GET /v1/workflows/{workflowId}`

**æè¿°**: è·å–æŒ‡å®šå·¥ä½œæµçš„è¯¦ç»†ä¿¡æ¯ã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "id": "workflow-123",
    "name": "AIå†…å®¹ç”Ÿæˆå·¥ä½œæµ",
    "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹å¹¶ä¿å­˜åˆ°æ•°æ®åº“",
    "category": "ai",
    "version": 1,
    "status": "active",
    "nodes": [
      {
        "id": "node-1",
        "type": "input",
        "name": "è¾“å…¥èŠ‚ç‚¹",
        "config": {
          "fields": [
            {
              "name": "topic",
              "type": "text",
              "label": "ä¸»é¢˜",
              "required": true
            },
            {
              "name": "length",
              "type": "number",
              "label": "é•¿åº¦",
              "default": 500
            }
          ]
        }
      },
      {
        "id": "node-2",
        "type": "ai",
        "name": "AIç”Ÿæˆ",
        "config": {
          "model": "gpt-4",
          "prompt": "è¯·æ ¹æ®ä»¥ä¸‹ä¸»é¢˜ç”Ÿæˆä¸€ç¯‡{{length}}å­—çš„æ–‡ç« ï¼š{{topic}}",
          "temperature": 0.7,
          "maxTokens": 1000
        }
      },
      {
        "id": "node-3",
        "type": "database",
        "name": "ä¿å­˜åˆ°æ•°æ®åº“",
        "config": {
          "operation": "insert",
          "table": "articles",
          "data": {
            "title": "{{topic}}",
            "content": "{{node-2.output}}",
            "createdAt": "{{now}}"
          }
        }
      },
      {
        "id": "node-4",
        "type": "output",
        "name": "è¾“å‡ºèŠ‚ç‚¹",
        "config": {
          "fields": [
            {
              "name": "articleId",
              "value": "{{node-3.output.id}}"
            },
            {
              "name": "content",
              "value": "{{node-2.output}}"
            }
          ]
        }
      }
    ],
    "edges": [
      {
        "id": "edge-1",
        "source": "node-1",
        "target": "node-2"
      },
      {
        "id": "edge-2",
        "source": "node-2",
        "target": "node-3"
      },
      {
        "id": "edge-3",
        "source": "node-3",
        "target": "node-4"
      }
    ],
    "settings": {
      "timeout": 300,
      "retryPolicy": {
        "maxRetries": 3,
        "retryDelay": 1000
      },
      "notification": {
        "onSuccess": true,
        "onFailure": true,
        "webhook": "https://your-app.com/webhook"
      }
    },
    "stats": {
      "totalExecutions": 150,
      "successfulExecutions": 145,
      "failedExecutions": 5,
      "averageExecutionTime": 15.5,
      "lastExecutedAt": "2026-02-03T12:00:00.000Z"
    },
    "createdAt": "2026-02-01T12:00:00.000Z",
    "updatedAt": "2026-02-03T12:00:00.000Z"
  },
  "message": "è·å–å·¥ä½œæµè¯¦æƒ…æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### åˆ é™¤å·¥ä½œæµ

**ç«¯ç‚¹**: `DELETE /v1/workflows/{workflowId}`

**æè¿°**: åˆ é™¤æŒ‡å®šçš„å·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {},
  "message": "å·¥ä½œæµåˆ é™¤æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

---

## å·¥ä½œæµæ‰§è¡Œ

### æ‰§è¡Œå·¥ä½œæµ

**ç«¯ç‚¹**: `POST /v1/workflows/{workflowId}/execute`

**æè¿°**: æ‰§è¡ŒæŒ‡å®šçš„å·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "input": {
    "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
    "length": 1000
  },
  "options": {
    "async": false,
    "webhook": "https://your-app.com/webhook"
  }
}
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| **input** | object | æ˜¯ | å·¥ä½œæµè¾“å…¥æ•°æ® |
| **options** | object | å¦ | æ‰§è¡Œé€‰é¡¹ |
| **options.async** | boolean | å¦ | æ˜¯å¦å¼‚æ­¥æ‰§è¡Œï¼Œé»˜è®¤false |
| **options.webhook** | string | å¦ | å®Œæˆåé€šçŸ¥çš„webhook URL |

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "executionId": "exec-123",
    "workflowId": "workflow-123",
    "status": "completed",
    "input": {
      "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
      "length": 1000
    },
    "output": {
      "articleId": "article-456",
      "content": "äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰ä½œä¸º21ä¸–çºªæœ€é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€..."
    },
    "executionTime": 12.5,
    "nodes": [
      {
        "id": "node-1",
        "name": "è¾“å…¥èŠ‚ç‚¹",
        "status": "completed",
        "executionTime": 0.1,
        "output": {
          "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
          "length": 1000
        }
      },
      {
        "id": "node-2",
        "name": "AIç”Ÿæˆ",
        "status": "completed",
        "executionTime": 11.5,
        "output": "äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰ä½œä¸º21ä¸–çºªæœ€é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€..."
      },
      {
        "id": "node-3",
        "name": "ä¿å­˜åˆ°æ•°æ®åº“",
        "status": "completed",
        "executionTime": 0.5,
        "output": {
          "id": "article-456"
        }
      },
      {
        "id": "node-4",
        "name": "è¾“å‡ºèŠ‚ç‚¹",
        "status": "completed",
        "executionTime": 0.1,
        "output": {
          "articleId": "article-456",
          "content": "äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰ä½œä¸º21ä¸–çºªæœ€é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€..."
        }
      }
    ],
    "startedAt": "2026-02-03T12:00:00.000Z",
    "completedAt": "2026-02-03T12:00:12.500Z"
  },
  "message": "å·¥ä½œæµæ‰§è¡ŒæˆåŠŸ",
  "timestamp": "2026-02-03T12:00:12.500Z"
}
```

### å¼‚æ­¥æ‰§è¡Œå·¥ä½œæµ

**ç«¯ç‚¹**: `POST /v1/workflows/{workflowId}/execute`

**æè¿°**: å¼‚æ­¥æ‰§è¡ŒæŒ‡å®šçš„å·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "input": {
    "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
    "length": 1000
  },
  "options": {
    "async": true,
    "webhook": "https://your-app.com/webhook"
  }
}
```

**æˆåŠŸå“åº”** (202):

```json
{
  "success": true,
  "data": {
    "executionId": "exec-123",
    "workflowId": "workflow-123",
    "status": "running",
    "input": {
      "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
      "length": 1000
    },
    "startedAt": "2026-02-03T12:00:00.000Z"
  },
  "message": "å·¥ä½œæµå·²å¼€å§‹æ‰§è¡Œ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### è·å–æ‰§è¡ŒçŠ¶æ€

**ç«¯ç‚¹**: `GET /v1/workflows/{workflowId}/executions/{executionId}`

**æè¿°**: è·å–å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€ã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "executionId": "exec-123",
    "workflowId": "workflow-123",
    "status": "running",
    "input": {
      "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
      "length": 1000
    },
    "output": null,
    "executionTime": 5.2,
    "nodes": [
      {
        "id": "node-1",
        "name": "è¾“å…¥èŠ‚ç‚¹",
        "status": "completed",
        "executionTime": 0.1,
        "output": {
          "topic": "äººå·¥æ™ºèƒ½çš„æœªæ¥",
          "length": 1000
        }
      },
      {
        "id": "node-2",
        "name": "AIç”Ÿæˆ",
        "status": "running",
        "executionTime": 5.1,
        "output": null
      },
      {
        "id": "node-3",
        "name": "ä¿å­˜åˆ°æ•°æ®åº“",
        "status": "pending",
        "executionTime": 0,
        "output": null
      },
      {
        "id": "node-4",
        "name": "è¾“å‡ºèŠ‚ç‚¹",
        "status": "pending",
        "executionTime": 0,
        "output": null
      }
    ],
    "startedAt": "2026-02-03T12:00:00.000Z",
    "completedAt": null
  },
  "message": "è·å–æ‰§è¡ŒçŠ¶æ€æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:05.200Z"
}
```

### å–æ¶ˆæ‰§è¡Œ

**ç«¯ç‚¹**: `POST /v1/workflows/{workflowId}/executions/{executionId}/cancel`

**æè¿°**: å–æ¶ˆæ­£åœ¨æ‰§è¡Œçš„å·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "executionId": "exec-123",
    "workflowId": "workflow-123",
    "status": "cancelled",
    "cancelledAt": "2026-02-03T12:00:10.000Z"
  },
  "message": "å·¥ä½œæµæ‰§è¡Œå·²å–æ¶ˆ",
  "timestamp": "2026-02-03T12:00:10.000Z"
}
```

---

## å·¥ä½œæµæ¨¡æ¿

### åˆ›å»ºå·¥ä½œæµæ¨¡æ¿

**ç«¯ç‚¹**: `POST /v1/workflow-templates`

**æè¿°**: åˆ›å»ºæ–°çš„å·¥ä½œæµæ¨¡æ¿ã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "name": "AIå†…å®¹ç”Ÿæˆæ¨¡æ¿",
  "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹çš„å·¥ä½œæµæ¨¡æ¿",
  "category": "ai",
  "nodes": [
    {
      "id": "node-1",
      "type": "input",
      "name": "è¾“å…¥èŠ‚ç‚¹",
      "config": {
        "fields": [
          {
            "name": "topic",
            "type": "text",
            "label": "ä¸»é¢˜",
            "required": true
          },
          {
            "name": "length",
            "type": "number",
            "label": "é•¿åº¦",
            "default": 500
          }
        ]
      }
    },
    {
      "id": "node-2",
      "type": "ai",
      "name": "AIç”Ÿæˆ",
      "config": {
        "model": "gpt-4",
        "prompt": "è¯·æ ¹æ®ä»¥ä¸‹ä¸»é¢˜ç”Ÿæˆä¸€ç¯‡{{length}}å­—çš„æ–‡ç« ï¼š{{topic}}",
        "temperature": 0.7,
        "maxTokens": 1000
      }
    },
    {
      "id": "node-3",
      "type": "output",
      "name": "è¾“å‡ºèŠ‚ç‚¹",
      "config": {
        "fields": [
          {
            "name": "content",
            "value": "{{node-2.output}}"
          }
        ]
      }
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "node-1",
      "target": "node-2"
    },
    {
      "id": "edge-2",
      "source": "node-2",
      "target": "node-3"
    }
  ],
  "isPublic": true
}
```

**æˆåŠŸå“åº”** (201):

```json
{
  "success": true,
  "data": {
    "id": "template-123",
    "name": "AIå†…å®¹ç”Ÿæˆæ¨¡æ¿",
    "description": "ä½¿ç”¨AIç”Ÿæˆå†…å®¹çš„å·¥ä½œæµæ¨¡æ¿",
    "category": "ai",
    "nodes": [],
    "edges": [],
    "isPublic": true,
    "usageCount": 0,
    "createdAt": "2026-02-03T12:00:00.000Z"
  },
  "message": "å·¥ä½œæµæ¨¡æ¿åˆ›å»ºæˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### ä»æ¨¡æ¿åˆ›å»ºå·¥ä½œæµ

**ç«¯ç‚¹**: `POST /v1/workflow-templates/{templateId}/create-workflow`

**æè¿°**: ä»æ¨¡æ¿åˆ›å»ºå·¥ä½œæµã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "name": "æˆ‘çš„AIå†…å®¹ç”Ÿæˆå·¥ä½œæµ",
  "description": "ä»æ¨¡æ¿åˆ›å»ºçš„å·¥ä½œæµ"
}
```

**æˆåŠŸå“åº”** (201):

```json
{
  "success": true,
  "data": {
    "id": "workflow-789",
    "name": "æˆ‘çš„AIå†…å®¹ç”Ÿæˆå·¥ä½œæµ",
    "description": "ä»æ¨¡æ¿åˆ›å»ºçš„å·¥ä½œæµ",
    "templateId": "template-123",
    "nodes": [],
    "edges": [],
    "status": "draft",
    "createdAt": "2026-02-03T12:00:00.000Z"
  },
  "message": "ä»æ¨¡æ¿åˆ›å»ºå·¥ä½œæµæˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

---

## å·¥ä½œæµç›‘æ§

### è·å–æ‰§è¡Œå†å²

**ç«¯ç‚¹**: `GET /v1/workflows/{workflowId}/executions`

**æè¿°**: è·å–å·¥ä½œæµçš„æ‰§è¡Œå†å²ã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| **page** | number | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| **limit** | number | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20 |
| **status** | string | å¦ | æ‰§è¡ŒçŠ¶æ€ï¼ˆrunningã€completedã€failedã€cancelledï¼‰ |
| **startDate** | string | å¦ | å¼€å§‹æ—¥æœŸ |
| **endDate** | string | å¦ | ç»“æŸæ—¥æœŸ |

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "items": [
      {
        "executionId": "exec-123",
        "workflowId": "workflow-123",
        "status": "completed",
        "executionTime": 12.5,
        "startedAt": "2026-02-03T12:00:00.000Z",
        "completedAt": "2026-02-03T12:00:12.500Z"
      },
      {
        "executionId": "exec-456",
        "workflowId": "workflow-123",
        "status": "failed",
        "executionTime": 5.2,
        "startedAt": "2026-02-03T11:00:00.000Z",
        "completedAt": "2026-02-03T11:00:05.200Z",
        "error": {
          "code": "E401",
          "message": "å·¥ä½œæµæ‰§è¡Œå¤±è´¥",
          "nodeId": "node-2"
        }
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 2,
      "totalPages": 1,
      "hasNext": false,
      "hasPrev": false
    }
  },
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### è·å–å·¥ä½œæµç»Ÿè®¡

**ç«¯ç‚¹**: `GET /v1/workflows/{workflowId}/stats`

**æè¿°**: è·å–å·¥ä½œæµçš„ç»Ÿè®¡ä¿¡æ¯ã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| **period** | string | å¦ | ç»Ÿè®¡å‘¨æœŸï¼ˆdayã€weekã€monthã€yearï¼‰ï¼Œé»˜è®¤week |

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {
    "workflowId": "workflow-123",
    "period": "week",
    "stats": {
      "totalExecutions": 150,
      "successfulExecutions": 145,
      "failedExecutions": 5,
      "cancelledExecutions": 0,
      "successRate": 96.67,
      "averageExecutionTime": 15.5,
      "minExecutionTime": 10.2,
      "maxExecutionTime": 25.8
    },
    "dailyStats": [
      {
        "date": "2026-01-28",
        "executions": 20,
        "successful": 19,
        "failed": 1,
        "averageExecutionTime": 14.5
      },
      {
        "date": "2026-01-29",
        "executions": 22,
        "successful": 22,
        "failed": 0,
        "averageExecutionTime": 15.2
      }
    ],
    "nodeStats": [
      {
        "nodeId": "node-1",
        "nodeName": "è¾“å…¥èŠ‚ç‚¹",
        "averageExecutionTime": 0.1,
        "successRate": 100
      },
      {
        "nodeId": "node-2",
        "nodeName": "AIç”Ÿæˆ",
        "averageExecutionTime": 14.8,
        "successRate": 96.67
      }
    ]
  },
  "message": "è·å–ç»Ÿè®¡ä¿¡æ¯æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

---

## å·¥ä½œæµé›†æˆ

### åˆ›å»ºWebhook

**ç«¯ç‚¹**: `POST /v1/workflows/{workflowId}/webhooks`

**æè¿°**: ä¸ºå·¥ä½œæµåˆ›å»ºWebhookã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
Content-Type: application/json
X-Request-ID: <unique-request-id>
```

**è¯·æ±‚ä½“**:

```json
{
  "name": "æ‰§è¡Œå®Œæˆé€šçŸ¥",
  "url": "https://your-app.com/webhook/workflow-completed",
  "events": [
    "workflow.completed",
    "workflow.failed"
  ],
  "headers": {
    "Authorization": "Bearer your-secret-token"
  },
  "secret": "webhook-secret-123"
}
```

**æˆåŠŸå“åº”** (201):

```json
{
  "success": true,
  "data": {
    "id": "webhook-123",
    "workflowId": "workflow-123",
    "name": "æ‰§è¡Œå®Œæˆé€šçŸ¥",
    "url": "https://your-app.com/webhook/workflow-completed",
    "events": [
      "workflow.completed",
      "workflow.failed"
    ],
    "headers": {
      "Authorization": "Bearer your-secret-token"
    },
    "secret": "webhook-secret-123",
    "status": "active",
    "createdAt": "2026-02-03T12:00:00.000Z"
  },
  "message": "Webhookåˆ›å»ºæˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

### åˆ é™¤Webhook

**ç«¯ç‚¹**: `DELETE /v1/workflows/{workflowId}/webhooks/{webhookId}`

**æè¿°**: åˆ é™¤æŒ‡å®šçš„Webhookã€‚

**è¯·æ±‚å¤´**:

```http
Authorization: Bearer <your-jwt-token>
X-Request-ID: <unique-request-id>
```

**æˆåŠŸå“åº”** (200):

```json
{
  "success": true,
  "data": {},
  "message": "Webhookåˆ é™¤æˆåŠŸ",
  "timestamp": "2026-02-03T12:00:00.000Z"
}
```

---

## æœ€ä½³å®è·µ

### å·¥ä½œæµè®¾è®¡

1. **æ¨¡å—åŒ–è®¾è®¡**: å°†å¤æ‚å·¥ä½œæµæ‹†åˆ†ä¸ºå¤šä¸ªå°æ¨¡å—
2. **é”™è¯¯å¤„ç†**: ä¸ºæ¯ä¸ªèŠ‚ç‚¹é…ç½®é€‚å½“çš„é”™è¯¯å¤„ç†
3. **è¶…æ—¶è®¾ç½®**: ä¸ºé•¿æ—¶é—´è¿è¡Œçš„èŠ‚ç‚¹è®¾ç½®åˆç†çš„è¶…æ—¶
4. **é‡è¯•ç­–ç•¥**: ä¸ºæ˜“å¤±è´¥çš„èŠ‚ç‚¹é…ç½®é‡è¯•ç­–ç•¥
5. **æ—¥å¿—è®°å½•**: è®°å½•å…³é”®èŠ‚ç‚¹çš„è¾“å…¥è¾“å‡ºç”¨äºè°ƒè¯•

### æ€§èƒ½ä¼˜åŒ–

1. **å¹¶è¡Œæ‰§è¡Œ**: ä½¿ç”¨å¹¶è¡ŒèŠ‚ç‚¹æå‡æ€§èƒ½
2. **ç¼“å­˜ç»“æœ**: ç¼“å­˜é‡å¤è®¡ç®—çš„ç»“æœ
3. **æ‰¹é‡å¤„ç†**: ä½¿ç”¨æ‰¹é‡æ“ä½œå‡å°‘APIè°ƒç”¨
4. **å¼‚æ­¥æ‰§è¡Œ**: å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„å·¥ä½œæµä½¿ç”¨å¼‚æ­¥æ‰§è¡Œ
5. **èµ„æºé™åˆ¶**: è®¾ç½®åˆç†çš„èµ„æºé™åˆ¶é˜²æ­¢è¿‡åº¦æ¶ˆè€—

### å®‰å…¨è€ƒè™‘

1. **è¾“å…¥éªŒè¯**: éªŒè¯æ‰€æœ‰è¾“å…¥æ•°æ®
2. **æ•æ„Ÿä¿¡æ¯**: ä¸è¦åœ¨å·¥ä½œæµä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
3. **è®¿é—®æ§åˆ¶**: å®æ–½é€‚å½“çš„è®¿é—®æ§åˆ¶
4. **å®¡è®¡æ—¥å¿—**: è®°å½•æ‰€æœ‰å·¥ä½œæµæ‰§è¡Œ
5. **æ•°æ®åŠ å¯†**: åŠ å¯†æ•æ„Ÿæ•°æ®

---

## ä¸‹ä¸€æ­¥

- [AIæ™ºèƒ½ä½“API](./03-AIæ™ºèƒ½ä½“API.md) - å­¦ä¹ AIç›¸å…³API
- [æ•°æ®åˆ†æAPI](./05-æ•°æ®åˆ†æAPI.md) - å­¦ä¹ æ•°æ®åˆ†æAPI
- [ç”¨æˆ·ç®¡ç†API](./06-ç”¨æˆ·ç®¡ç†API.md) - å­¦ä¹ ç”¨æˆ·ç®¡ç†API

---

<div align="center">

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€

</div>
