# YYCÂ³ PortAISys å›æ»šä¸ç¾å¤‡

> ***YanYuCloudCube***
> è¨€å¯è±¡é™ | è¯­æ¢æœªæ¥
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> ä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ–‡æ¡£åç§°** | YYCÂ³ PortAISys å›æ»šä¸ç¾å¤‡ |
| **æ–‡æ¡£ç‰ˆæœ¬** | v1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2026-02-03 |
| **æœ€åæ›´æ–°** | 2026-02-03 |
| **æ–‡æ¡£çŠ¶æ€** | ğŸ“‹ æ­£å¼å‘å¸ƒ |
| **ä½œè€…** | YYCÂ³ Team |

---

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ YYCÂ³ PortAISys çš„å›æ»šç­–ç•¥å’Œç¾éš¾æ¢å¤æ–¹æ¡ˆï¼Œç¡®ä¿ç³»ç»Ÿåœ¨å„ç§æ•…éšœåœºæ™¯ä¸‹èƒ½å¤Ÿå¿«é€Ÿæ¢å¤ã€‚

---

## ğŸ”„ å›æ»šç­–ç•¥

### å›æ»šè§¦å‘æ¡ä»¶

| è§¦å‘ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|----------|------|------|
| **åŠŸèƒ½æ•…éšœ** | æ ¸å¿ƒåŠŸèƒ½ä¸å¯ç”¨ | ç”¨æˆ·æ— æ³•ç™»å½• |
| **æ€§èƒ½ä¸¥é‡ä¸‹é™** | å“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼ | APIå“åº”>5ç§’ |
| **æ•°æ®å¼‚å¸¸** | æ•°æ®ä¸¢å¤±æˆ–æŸå | æ•°æ®åº“æ•°æ®é”™è¯¯ |
| **å®‰å…¨æ¼æ´** | å‘ç°ä¸¥é‡å®‰å…¨æ¼æ´ | SQLæ³¨å…¥æ¼æ´ |
| **ç”¨æˆ·æŠ•è¯‰æ¿€å¢** | å¤§é‡ç”¨æˆ·åé¦ˆé—®é¢˜ | æŠ•è¯‰é‡>10å€ |

### å›æ»šç›®æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| **RTO** | < 15åˆ†é’Ÿ | æ¢å¤æ—¶é—´ç›®æ ‡ |
| **RPO** | < 5åˆ†é’Ÿ | æ¢å¤ç‚¹ç›®æ ‡ |
| **å›æ»šæˆåŠŸç‡** | > 99% | å›æ»šæ“ä½œæˆåŠŸç‡ |
| **æ•°æ®ä¸€è‡´æ€§** | 100% | å›æ»šåæ•°æ®ä¸€è‡´æ€§ |

---

## ğŸš€ å¿«é€Ÿå›æ»š

### Kubernetes å›æ»š

```bash
# ===========================================
# æŸ¥çœ‹éƒ¨ç½²å†å²
# ===========================================
kubectl rollout history deployment/yyc3-app -n production

# è¾“å‡ºç¤ºä¾‹:
# REVISION  CHANGE-CAUSE
# 1         <initial>
# 2         Update to v1.5.0
# 3         Update to v1.5.1

# ===========================================
# å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
# ===========================================
kubectl rollout undo deployment/yyc3-app -n production

# ===========================================
# å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
# ===========================================
kubectl rollout undo deployment/yyc3-app --to-revision=2 -n production

# ===========================================
# æŸ¥çœ‹å›æ»šçŠ¶æ€
# ===========================================
kubectl rollout status deployment/yyc3-app -n production

# ===========================================
# æš‚åœ/æ¢å¤æ»šåŠ¨æ›´æ–°
# ===========================================
kubectl rollout pause deployment/yyc3-app -n production
kubectl rollout resume deployment/yyc3-app -n production
```

### Docker å›æ»š

```bash
# ===========================================
# å›æ»šåˆ°ä¸Šä¸€é•œåƒ
# ===========================================
docker-compose down
docker-compose up -d --scale app=3

# æˆ–ä½¿ç”¨ç‰¹å®šé•œåƒ
docker-compose down
docker-compose up -d --scale app=3 \
  -e IMAGE_TAG=previous-version
```

### æ•°æ®åº“å›æ»š

```bash
# ===========================================
# Prisma è¿ç§»å›æ»š
# ===========================================

# æŸ¥çœ‹è¿ç§»å†å²
npx prisma migrate status

# å›æ»šåˆ°æŒ‡å®šè¿ç§»
# æ³¨æ„: Prisma ä¸æ”¯æŒè‡ªåŠ¨å›æ»šï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºå›æ»šè¿ç§»

# æ‰‹åŠ¨å›æ»šè„šæœ¬
npx prisma migrate resolve --rolled-back [migration_name]

# ===========================================
# PostgreSQL å›æ»š
# ===========================================

# ä»å¤‡ä»½æ¢å¤
pg_restore -d yyc3_db --clean --if-exists backup.dump

# æ—¶é—´ç‚¹æ¢å¤
psql -d yyc3_db -c "
  SELECT pg_restore_point('before_migration');
"
```

---

## ğŸ”§ ç°åº¦å‘å¸ƒä¸å›æ»š

### è“ç»¿éƒ¨ç½²

```
å½“å‰çŠ¶æ€: Blue (v1.4.0)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Blue ç¯å¢ƒ   â”‚    â”‚  Green ç¯å¢ƒ   â”‚
â”‚  (v1.4.0)     â”‚    â”‚  (v1.5.0)     â”‚
â”‚   æµé‡100%   â”‚    â”‚   æµé‡0%     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   åˆ‡æ¢æµé‡    â”‚
         â”‚  Green 100%  â”‚
         â”‚   Blue 0%    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   éªŒè¯æˆåŠŸ    â”‚
         â”‚   ä¿ç•™Green  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚           â”‚
    éªŒè¯æˆåŠŸ      éªŒè¯å¤±è´¥
         â”‚           â”‚
         â–¼           â–¼
    ä¿ç•™Green    å›æ»šBlue
```

### é‡‘ä¸é›€å‘å¸ƒ

```
v1.4.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ 100%
           â””â”€ v1.5.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ 5% â”€â–¶ 25% â”€â–¶ 50% â”€â–¶ 100%

å›æ»šç‚¹:
- 5%: æ£€æŸ¥åŸºæœ¬åŠŸèƒ½
- 25%: æ£€æŸ¥æ€§èƒ½æŒ‡æ ‡
- 50%: æ£€æŸ¥ç¨³å®šæ€§
```

---

## ğŸ’¾ æ•°æ®å¤‡ä»½ç­–ç•¥

### å¤‡ä»½ç±»å‹

| å¤‡ä»½ç±»å‹ | é¢‘ç‡ | ä¿ç•™æœŸ | ç”¨é€” |
|----------|------|--------|------|
| **å®Œæ•´å¤‡ä»½** | æ¯æ—¥ | 30å¤© | å®Œæ•´æ¢å¤ |
| **å¢é‡å¤‡ä»½** | æ¯å°æ—¶ | 7å¤© | å¿«é€Ÿæ¢å¤ |
| **äº‹åŠ¡æ—¥å¿—** | å®æ—¶ | 24å°æ—¶ | ç²¾ç¡®æ¢å¤ |
| **é…ç½®å¤‡ä»½** | æ¯æ¬¡å˜æ›´ | æ°¸ä¹… | é…ç½®æ¢å¤ |

### PostgreSQL å¤‡ä»½

```bash
# ===========================================
# å®Œæ•´å¤‡ä»½è„šæœ¬
# ===========================================
#!/bin/bash
# scripts/backup-db.sh

BACKUP_DIR="/backups/postgres"
DATE=$(date +%Y%m%d_%H%M%S)
RETENTION_DAYS=30

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# å®Œæ•´å¤‡ä»½
pg_dump -h localhost -U yyc3_user -d yyc3_db \
  -F c -f $BACKUP_DIR/yyc3_db_$DATE.dump

# å‹ç¼©å¤‡ä»½
gzip $BACKUP_DIR/yyc3_db_$DATE.dump

# æ¸…ç†æ—§å¤‡ä»½
find $BACKUP_DIR -name "*.dump.gz" -mtime +$RETENTION_DAYS -delete

echo "Backup completed: yyc3_db_$DATE.dump.gz"

# ===========================================
# æ¢å¤è„šæœ¬
# ===========================================
#!/bin/bash
# scripts/restore-db.sh

BACKUP_FILE=$1

if [ -z "$BACKUP_FILE" ]; then
  echo "Usage: $0 <backup_file>"
  exit 1
fi

# è§£å‹å¤‡ä»½
gunzip $BACKUP_FILE

# æ¢å¤æ•°æ®åº“
pg_restore -h localhost -U yyc3_user -d yyc3_db \
  --clean --if-exists \
  ${BACKUP_FILE%.gz}

echo "Restore completed"
```

### Redis å¤‡ä»½

```bash
# ===========================================
# Redis å¿«ç…§å¤‡ä»½
# ===========================================

# è§¦å‘å¿«ç…§
redis-cli BGSAVE

# å¤‡ä»½ RDB æ–‡ä»¶
cp /var/lib/redis/dump.rdb /backups/redis/dump_$(date +%Y%m%d_%H%M%S).rdb

# ===========================================
# Redis AOF å¤‡ä»½
# ===========================================

# å¯ç”¨ AOF
redis-cli CONFIG SET appendonly yes

# å¤‡ä»½ AOF æ–‡ä»¶
cp /var/lib/redis/appendonly.aof /backups/redis/appendonly_$(date +%Y%m%d_%H%M%S).aof

# ===========================================
# Redis æ¢å¤
# ===========================================

# åœæ­¢ Redis
redis-cli SHUTDOWN

# æ¢å¤å¤‡ä»½
cp /backups/redis/dump_yyyymmdd_hhmmss.rdb /var/lib/redis/dump.rdb

# å¯åŠ¨ Redis
redis-server /path/to/redis.conf
```

---

## ğŸŒ å¤šåŒºåŸŸç¾å¤‡

### ä¸»å¤‡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä¸»åŒºåŸŸ (Primary)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   åº”ç”¨æœåŠ¡    â”‚  â”‚  PostgreSQL  â”‚  â”‚    Redis     â”‚  â”‚
â”‚  â”‚  (3 å®ä¾‹)     â”‚  â”‚   (ä¸»åº“)     â”‚  â”‚   (ä¸»)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ æ•°æ®åŒæ­¥
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤‡åŒºåŸŸ (Secondary)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   åº”ç”¨æœåŠ¡    â”‚  â”‚  PostgreSQL  â”‚  â”‚    Redis     â”‚  â”‚
â”‚  â”‚  (2 å®ä¾‹)     â”‚  â”‚   (ä»åº“)     â”‚  â”‚   (ä»)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DNS æ•…éšœè½¬ç§»

```bash
# ===========================================
# å¥åº·æ£€æŸ¥è„šæœ¬
# ===========================================
#!/bin/bash
# scripts/health-check.sh

PRIMARY_URL="https://app.yyc3.com"
SECONDARY_URL="https://app-backup.yyc3.com"

# æ£€æŸ¥ä¸»åŒºåŸŸ
response=$(curl -s -o /dev/null -w "%{http_code}" $PRIMARY_URL/health)

if [ $response -ne 200 ]; then
  echo "Primary is down, switching to secondary..."

  # æ›´æ–° DNS è®°å½•
  # è¿™éœ€è¦é€šè¿‡ DNS æä¾›å•†çš„ API å®ç°
  update_dns_record "app.yyc3.com" "CNAME" "app-backup.yyc3.com"

  # å‘é€å‘Šè­¦
  send_alert "Primary region is down, switched to secondary"
fi
```

---

## ğŸ”„ ç¾éš¾æ¢å¤æµç¨‹

### ç¾éš¾åˆ†çº§

| çº§åˆ« | æè¿° | å“åº”æ—¶é—´ | æ¢å¤æ—¶é—´ | å½±å“èŒƒå›´ |
|------|------|----------|----------|----------|
| **L1** | å•æœåŠ¡æ•…éšœ | 5åˆ†é’Ÿ | 15åˆ†é’Ÿ | å•ä¸ªåŠŸèƒ½ |
| **L2** | å¤šæœåŠ¡æ•…éšœ | 10åˆ†é’Ÿ | 30åˆ†é’Ÿ | éƒ¨åˆ†åŠŸèƒ½ |
| **L3** | åŒºåŸŸæ•…éšœ | 15åˆ†é’Ÿ | 1å°æ—¶ | æ•´ä¸ªåŒºåŸŸ |
| **L4** | å…¨é¢æ•…éšœ | 30åˆ†é’Ÿ | 4å°æ—¶ | å…¨éƒ¨æœåŠ¡ |

### æ¢å¤æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•…éšœæ£€æµ‹    â”‚â”€â”€â”€â–¶â”‚   æ•…éšœç¡®è®¤    â”‚â”€â”€â”€â–¶â”‚   å¯åŠ¨å“åº”    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                        â”‚
     â”‚                                        â–¼
     â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                              â”‚   å¿«é€Ÿå›æ»š    â”‚
     â”‚                              â”‚   æˆ–åˆ‡æ¢      â”‚
     â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                        â”‚
     â–¼                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•…éšœä¸ŠæŠ¥    â”‚                      â”‚   éªŒè¯æ¢å¤    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                        â”‚
     â–¼                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å½±å“è¯„ä¼°    â”‚â”€â”€â”€â–¶â”‚   æ¢å¤æœåŠ¡    â”‚â”€â”€â”€â–¶â”‚   äº‹åæ€»ç»“    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ ç¾éš¾æ¢å¤è®¡åˆ’

### DRP æ–‡æ¡£ç»“æ„

```markdown
# YYCÂ³ PortAISys ç¾éš¾æ¢å¤è®¡åˆ’

## 1. è®¡åˆ’æ¦‚è¿°
### 1.1 ç›®æ ‡
### 1.2 èŒƒå›´
### 1.3 è´£ä»»äºº

## 2. é£é™©è¯„ä¼°
### 2.1 æ½œåœ¨å¨èƒ
### 2.2 å½±å“åˆ†æ
### 2.3 æ¢å¤ä¼˜å…ˆçº§

## 3. é¢„é˜²æªæ–½
### 3.1 å¤‡ä»½ç­–ç•¥
### 3.2 ç›‘æ§å‘Šè­¦
### 3.3 æ¼”ç»ƒè®¡åˆ’

## 4. å“åº”æµç¨‹
### 4.1 æ£€æµ‹ä¸ç¡®è®¤
### 4.2 å“åº”ä¸æ¢å¤
### 4.3 éªŒè¯ä¸æ€»ç»“

## 5. æ¢å¤æ­¥éª¤
### 5.1 åº”ç”¨å±‚æ¢å¤
### 5.2 æ•°æ®å±‚æ¢å¤
### 5.3 ç½‘ç»œå±‚æ¢å¤

## 6. é€šä¿¡è®¡åˆ’
### 6.1 å†…éƒ¨é€šä¿¡
### 6.2 å¤–éƒ¨é€šä¿¡
### 6.3 é€šæŠ¥æ¨¡æ¿
```

---

## ğŸ§ª ç¾éš¾æ¼”ç»ƒ

### æ¼”ç»ƒè®¡åˆ’

| æ¼”ç»ƒç±»å‹ | é¢‘ç‡ | å‚ä¸äººå‘˜ | æŒç»­æ—¶é—´ |
|----------|------|----------|----------|
| **æ¡Œé¢æ¼”ç»ƒ** | å­£åº¦ | è¿ç»´å›¢é˜Ÿ | 2å°æ—¶ |
| **æ¨¡æ‹Ÿæ¼”ç»ƒ** | åŠå¹´ | å…¨ä½“äººå‘˜ | 4å°æ—¶ |
| **å®é™…æ¼”ç»ƒ** | å¹´åº¦ | å…¨ä½“äººå‘˜ | 1å¤© |

### æ¼”ç»ƒåœºæ™¯

```markdown
## æ¼”ç»ƒåœºæ™¯: æ•°æ®åº“ä¸»åº“æ•…éšœ

### èƒŒæ™¯
ç”Ÿäº§ç¯å¢ƒ PostgreSQL ä¸»åº“çªç„¶å®•æœºï¼Œéœ€è¦åˆ‡æ¢åˆ°ä»åº“ã€‚

### æ¼”ç»ƒæ­¥éª¤
1. æ¨¡æ‹Ÿä¸»åº“æ•…éšœ
   ```bash
   kubectl exec -it postgres-0 -n production -- bash
   pg_ctl stop -m immediate
   ```

2. æ£€æµ‹æ•…éšœ
   - ç›‘æ§å‘Šè­¦è§¦å‘
   - å¥åº·æ£€æŸ¥å¤±è´¥

3. æå‡ä»åº“ä¸ºä¸»åº“
   ```bash
   kubectl exec -it postgres-1 -n production -- bash
   pg_ctl promote
   ```

4. æ›´æ–°åº”ç”¨è¿æ¥
   ```bash
   kubectl set env deployment/yyc3-app \
     DATABASE_URL=postgresql://postgres-1:5432/yyc3_db
   ```

5. éªŒè¯æœåŠ¡æ¢å¤
   ```bash
   curl https://app.yyc3.com/api/health
   ```

### æˆåŠŸæ ‡å‡†
- RTO < 15åˆ†é’Ÿ
- æ•°æ®æ— ä¸¢å¤±
- æ‰€æœ‰æœåŠ¡æ¢å¤æ­£å¸¸
```

---

## ğŸ“Š æ¢å¤éªŒè¯

### éªŒè¯æ¸…å•

**åº”ç”¨éªŒè¯**:
- [ ] æ‰€æœ‰æœåŠ¡å¯åŠ¨æ­£å¸¸
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] å…³é”®åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] APIå“åº”æ­£å¸¸

**æ•°æ®éªŒè¯**:
- [ ] æ•°æ®å®Œæ•´æ€§æ£€æŸ¥
- [ ] æ•°æ®ä¸€è‡´æ€§éªŒè¯
- [ ] å…³é”®æ•°æ®æŠ½æ ·æ£€æŸ¥

**æ€§èƒ½éªŒè¯**:
- [ ] å“åº”æ—¶é—´æ­£å¸¸
- [ ] ååé‡æ­£å¸¸
- [ ] é”™è¯¯ç‡æ­£å¸¸
- [ ] èµ„æºä½¿ç”¨æ­£å¸¸

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [08-äº‘å¹³å°éƒ¨ç½²æŒ‡å—](./08-äº‘å¹³å°éƒ¨ç½²æŒ‡å—.md)
- [09-Kuberneteséƒ¨ç½²æŒ‡å—](./09-Kuberneteséƒ¨ç½²æŒ‡å—.md)
- [10-CI-CDæµæ°´çº¿](./10-CI-CDæµæ°´çº¿.md)

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/YYC-Cube/YYC3-PortAISys
- **é—®é¢˜åé¦ˆ**: https://github.com/YYC-Cube/YYC3-PortAISys/issues
- **é‚®ç®±**: admin@0379.email

---

> **ã€Œä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒã€**
> **All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence**

Made with â¤ï¸ by YYCÂ³ Team
