# YYCÂ³ PortAISys ç‰ˆæœ¬å‘å¸ƒæµç¨‹

> ***YanYuCloudCube***
> è¨€å¯è±¡é™ | è¯­æ¢æœªæ¥
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> ä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ–‡æ¡£åç§°** | YYCÂ³ PortAISys ç‰ˆæœ¬å‘å¸ƒæµç¨‹ |
| **æ–‡æ¡£ç‰ˆæœ¬** | v1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2026-02-03 |
| **æœ€åæ›´æ–°** | 2026-02-03 |
| **æ–‡æ¡£çŠ¶æ€** | ğŸ“‹ æ­£å¼å‘å¸ƒ |
| **ä½œè€…** | YYCÂ³ Team |

---

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ YYCÂ³ PortAISys çš„ç‰ˆæœ¬å‘å¸ƒæµç¨‹ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬ç®¡ç†ã€å‘å¸ƒæ£€æŸ¥æ¸…å•ã€å‘å¸ƒæ­¥éª¤å’Œå›æ»šæµç¨‹ã€‚

---

## ğŸ“Š ç‰ˆæœ¬ç­–ç•¥

### è¯­ä¹‰åŒ–ç‰ˆæœ¬

YYCÂ³ PortAISys éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬ 2.0.0](https://semver.org/lang/zh-CN/) è§„èŒƒï¼š

```
ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å· (MAJOR.MINOR.PATCH)

ç¤ºä¾‹: 1.2.3
  â”‚ â”‚ â”‚
  â”‚ â”‚ â””â”€ ä¿®è®¢å·(PATCH):  bugä¿®å¤
  â”‚ â””â”€â”€â”€ æ¬¡ç‰ˆæœ¬å·(MINOR): æ–°åŠŸèƒ½ï¼ˆå‘åå…¼å®¹ï¼‰
  â””â”€â”€â”€â”€â”€ ä¸»ç‰ˆæœ¬å·(MAJOR): ç ´åæ€§å˜æ›´
```

### ç‰ˆæœ¬ç±»å‹

| ç±»å‹ | ç‰ˆæœ¬ç¤ºä¾‹ | è¯´æ˜ | è§¦å‘æ¡ä»¶ |
|------|----------|------|----------|
| **Major** | 2.0.0 | é‡å¤§ç‰ˆæœ¬ | ç ´åæ€§å˜æ›´ã€æ¶æ„é‡æ„ |
| **Minor** | 1.5.0 | åŠŸèƒ½ç‰ˆæœ¬ | æ–°å¢åŠŸèƒ½ã€å‘åå…¼å®¹ |
| **Patch** | 1.4.1 | è¡¥ä¸ç‰ˆæœ¬ | Bugä¿®å¤ã€å°æ”¹è¿› |
| **Pre-release** | 1.5.0-rc.1 | é¢„å‘å¸ƒç‰ˆæœ¬ | æµ‹è¯•ç‰ˆæœ¬ã€å€™é€‰ç‰ˆæœ¬ |

### å‘å¸ƒåˆ†æ”¯ç­–ç•¥

```
main (ç”Ÿäº§)
  â”‚
  â”œâ”€ develop (å¼€å‘)
  â”‚    â”‚
  â”‚    â”œâ”€ feature/xxx (åŠŸèƒ½åˆ†æ”¯)
  â”‚    â”œâ”€ bugfix/xxx (ä¿®å¤åˆ†æ”¯)
  â”‚    â””â”€ hotfix/xxx (ç´§æ€¥ä¿®å¤)
  â”‚
  â”œâ”€ release/x.x.x (å‘å¸ƒåˆ†æ”¯)
  â”‚
  â””â”€ tags (ç‰ˆæœ¬æ ‡ç­¾)
```

---

## ğŸ”„ å‘å¸ƒæµç¨‹

### å®Œæ•´å‘å¸ƒæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŠŸèƒ½å¼€å‘å®Œæˆ  â”‚â”€â”€â”€â–¶â”‚   åˆ›å»ºPR      â”‚â”€â”€â”€â–¶â”‚   ä»£ç å®¡æŸ¥    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åˆå¹¶åˆ°      â”‚â”€â”€â”€â–¶â”‚  åˆ›å»ºå‘å¸ƒ     â”‚â”€â”€â”€â–¶â”‚  å‘å¸ƒæµ‹è¯•    â”‚
â”‚   develop    â”‚    â”‚   åˆ†æ”¯       â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¿®å¤Bug      â”‚â”€â”€â”€â–¶â”‚   æ›´æ–°ç‰ˆæœ¬    â”‚â”€â”€â”€â–¶â”‚   åˆå¹¶åˆ°      â”‚
â”‚  (å¦‚éœ€è¦)     â”‚    â”‚   å·å’ŒCHANGELOGâ”‚   â”‚   main      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ‰“æ ‡ç­¾      â”‚â”€â”€â”€â–¶â”‚  æ„å»ºå‘å¸ƒ    â”‚â”€â”€â”€â–¶â”‚   éƒ¨ç½²ç”Ÿäº§    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… å‘å¸ƒæ£€æŸ¥æ¸…å•

### å‘å¸ƒå‰æ£€æŸ¥

**ä»£ç è´¨é‡**:
- [ ] æ‰€æœ‰ä»£ç å®¡æŸ¥é€šè¿‡
- [ ] ESLint æ£€æŸ¥æ— é”™è¯¯
- [ ] TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] æ— ç¼–è¯‘è­¦å‘Š

**æµ‹è¯•è¦†ç›–**:
- [ ] å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] é›†æˆæµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] E2E æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ï¼ˆ>90%ï¼‰

**åŠŸèƒ½éªŒè¯**:
- [ ] æ‰€æœ‰æ–°åŠŸèƒ½å·²å®ç°å¹¶æµ‹è¯•
- [ ] æ‰€æœ‰å·²çŸ¥ Bug å·²ä¿®å¤
- [ ] ç ´åæ€§å˜æ›´å·²è®°å½•
- [ ] API æ–‡æ¡£å·²æ›´æ–°

**æ–‡æ¡£æ›´æ–°**:
- [ ] CHANGELOG.md å·²æ›´æ–°
- [ ] README.md å·²æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] API æ–‡æ¡£å·²æ›´æ–°
- [ ] è¿ç§»æŒ‡å—å·²å‡†å¤‡ï¼ˆå¦‚éœ€è¦ï¼‰

**å®‰å…¨æ£€æŸ¥**:
- [ ] ä¾èµ–æ— é«˜å±æ¼æ´
- [ ] å®‰å…¨æ‰«æé€šè¿‡
- [ ] å¯†é’¥å’Œæ•æ„Ÿä¿¡æ¯å·²ç§»é™¤

### å‘å¸ƒåæ£€æŸ¥

**éƒ¨ç½²éªŒè¯**:
- [ ] æ‰€æœ‰æœåŠ¡å¯åŠ¨æ­£å¸¸
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] å…³é”®åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æŒ‡æ ‡æ­£å¸¸

**ç›‘æ§éªŒè¯**:
- [ ] é”™è¯¯ç‡æ­£å¸¸
- [ ] å“åº”æ—¶é—´æ­£å¸¸
- [ ] æ— å¼‚å¸¸å‘Šè­¦
- [ ] æ—¥å¿—æ­£å¸¸è¾“å‡º

---

## ğŸ“ CHANGELOG ç®¡ç†

### CHANGELOG æ ¼å¼

```markdown
# [1.5.0] - 2026-02-03

## Added
- æ–°å¢æ™ºèƒ½æ¨èç³»ç»Ÿ
- æ–°å¢è‡ªç„¶è¯­è¨€å¤„ç†å¢å¼ºåŠŸèƒ½
- æ–°å¢æœºå™¨å­¦ä¹ æ¨¡å‹ä¼˜åŒ–æ¨¡å—

## Changed
- ä¼˜åŒ– API å“åº”æ€§èƒ½
- æ›´æ–° Redis ç¼“å­˜ç­–ç•¥
- é‡æ„ç”¨æˆ·è®¤è¯æµç¨‹

## Fixed
- ä¿®å¤å·¥ä½œæµæ‰§è¡Œæ—¶çš„å†…å­˜æ³„æ¼
- ä¿®å¤æ•°æ®åº“è¿æ¥æ± é…ç½®é—®é¢˜
- ä¿®å¤å‰ç«¯è·¯ç”±è·³è½¬é—®é¢˜

## Security
- å‡çº§ä¾èµ–åŒ…ä¿®å¤å®‰å…¨æ¼æ´
- å¢å¼º API é€Ÿç‡é™åˆ¶
- ä¼˜åŒ–å¯†ç åŠ å¯†ç­–ç•¥

## Breaking Changes
- ç§»é™¤åºŸå¼ƒçš„ API ç«¯ç‚¹ `/api/v1/legacy`
- è®¤è¯æ–¹å¼å˜æ›´ï¼Œéœ€è¦ä½¿ç”¨æ–°çš„ Token æ ¼å¼

## Migration Guide
### ä» 1.4.x å‡çº§åˆ° 1.5.0

1. æ›´æ–°ä¾èµ–: `pnpm install`
2. è¿è¡Œæ•°æ®åº“è¿ç§»: `npx prisma migrate deploy`
3. æ›´æ–°ç¯å¢ƒå˜é‡: æ·»åŠ æ–°çš„ AI æ¨¡å‹é…ç½®
4. é‡å¯æœåŠ¡

## Deprecated
- API ç«¯ç‚¹ `/api/v1/legacy` å°†åœ¨ 2.0.0 ç‰ˆæœ¬ç§»é™¤
```

### è‡ªåŠ¨ç”Ÿæˆ CHANGELOG

```bash
# å®‰è£… conventional-changelog
npm install -g conventional-changelog

# ç”Ÿæˆ CHANGELOG
conventional-changelog -p angular -i CHANGELOG.md -s

# é¦–æ¬¡ç”Ÿæˆ
conventional-changelog -p angular -i CHANGELOG.md -s -r 0
```

---

## ğŸš€ å‘å¸ƒæ­¥éª¤

### 1. åˆ›å»ºå‘å¸ƒåˆ†æ”¯

```bash
# ä» develop åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b release/1.5.0

# æ›´æ–°ç‰ˆæœ¬å·
# package.json
{
  "version": "1.5.0"
}
```

### 2. æ›´æ–° CHANGELOG

```bash
# ç”Ÿæˆ CHANGELOG
conventional-changelog -p angular -i CHANGELOG.md -s

# æ‰‹åŠ¨ç¼–è¾‘ CHANGELOG.md
# æ·»åŠ å…·ä½“å˜æ›´å†…å®¹ã€è¿ç§»æŒ‡å—ç­‰
```

### 3. æäº¤å˜æ›´

```bash
git add package.json CHANGELOG.md
git commit -m "chore(release): bump version to 1.5.0"
```

### 4. å‘å¸ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test:all

# æ„å»ºéªŒè¯
pnpm build

# éƒ¨ç½²åˆ°é¢„å‘ç¯å¢ƒ
# (é€šè¿‡ CI/CD è‡ªåŠ¨å®Œæˆ)
```

### 5. åˆå¹¶åˆ° main

```bash
# åˆ‡æ¢åˆ° main
git checkout main
git pull origin main

# åˆå¹¶å‘å¸ƒåˆ†æ”¯
git merge --no-ff release/1.5.0

# è§£å†³å†²çªï¼ˆå¦‚æœ‰ï¼‰
# ...
```

### 6. æ‰“æ ‡ç­¾

```bash
# åˆ›å»ºå¸¦æ³¨é‡Šçš„æ ‡ç­¾
git tag -a v1.5.0 -m "Release version 1.5.0

ä¸»è¦å˜æ›´:
- æ–°å¢æ™ºèƒ½æ¨èç³»ç»Ÿ
- æ–°å¢è‡ªç„¶è¯­è¨€å¤„ç†å¢å¼º
- ä¼˜åŒ–æ€§èƒ½å’Œç¨³å®šæ€§
"

# æ¨é€æ ‡ç­¾
git push origin v1.5.0
```

### 7. åˆå¹¶å› develop

```bash
git checkout develop
git merge --no-ff main
git push origin develop
```

### 8. æ¸…ç†åˆ†æ”¯

```bash
# åˆ é™¤å‘å¸ƒåˆ†æ”¯
git branch -d release/1.5.0

# åˆ é™¤è¿œç¨‹åˆ†æ”¯
git push origin --delete release/1.5.0
```

---

## ğŸ”„ å›æ»šæµç¨‹

### è§¦å‘æ¡ä»¶

- éƒ¨ç½²åå‘ç°ä¸¥é‡ Bug
- æ€§èƒ½ä¸¥é‡ä¸‹é™
- æ•°æ®å¼‚å¸¸
- å®‰å…¨æ¼æ´

### å›æ»šæ­¥éª¤

```bash
# 1. ç«‹å³åœæ­¢å½“å‰ç‰ˆæœ¬
kubectl rollout pause deployment/yyc3-app -n production

# 2. å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
kubectl rollout undo deployment/yyc3-app -n production

# 3. æŸ¥çœ‹å›æ»šçŠ¶æ€
kubectl rollout status deployment/yyc3-app -n production

# 4. éªŒè¯æœåŠ¡æ¢å¤
curl -f https://app.yyc3.com/api/health

# 5. é€šçŸ¥ç›¸å…³äººå‘˜
# å‘é€å‘Šè­¦é€šçŸ¥
```

### å›æ»šåˆ°ç‰¹å®šç‰ˆæœ¬

```bash
# æŸ¥çœ‹å†å²ç‰ˆæœ¬
kubectl rollout history deployment/yyc3-app -n production

# å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
kubectl rollout undo deployment/yyc3-app --to-revision=3 -n production
```

---

## ğŸ“¢ å‘å¸ƒé€šçŸ¥

### é€šçŸ¥å†…å®¹

```markdown
## ğŸ‰ YYCÂ³ PortAISys v1.5.0 å‘å¸ƒ

### ä¸»è¦æ›´æ–°

- âœ¨ æ–°å¢æ™ºèƒ½æ¨èç³»ç»Ÿ
- âœ¨ æ–°å¢è‡ªç„¶è¯­è¨€å¤„ç†å¢å¼º
- âš¡ ä¼˜åŒ– API å“åº”æ€§èƒ½
- ğŸ› ä¿®å¤è‹¥å¹²å·²çŸ¥é—®é¢˜

### å‡çº§æŒ‡å—

è¯¦è§: [å‡çº§æŒ‡å—](https://docs.yyc3.com/migration/1.5.0)

### ä¸‹è½½åœ°å€

- Docker: `ghcr.io/yyc3/portaisys:v1.5.0`
- NPM: `@yyc3/portaisys@1.5.0`

### å®Œæ•´å˜æ›´

è¯¦è§: [CHANGELOG.md](https://github.com/YYC-Cube/YYC3-PortAISys/blob/main/CHANGELOG.md)

### åé¦ˆæ¸ é“

- Issues: https://github.com/YYC-Cube/YYC3-PortAISys/issues
- é‚®ç®±: admin@0379.email
```

### é€šçŸ¥æ¸ é“

- GitHub Releases
- é‚®ä»¶åˆ—è¡¨
- Slack/Discord
- å®˜æ–¹ç½‘ç«™

---

## ğŸ”¢ ç‰ˆæœ¬è®¡ç®—

### è‡ªåŠ¨ç‰ˆæœ¬è®¡ç®—

```bash
# ä½¿ç”¨ standard-version
npm install -g standard-version

# è‡ªåŠ¨ç‰ˆæœ¬æå‡å’Œ CHANGELOG ç”Ÿæˆ
standard-version

# å‘å¸ƒ major ç‰ˆæœ¬
standard-version --release-as major

# å‘å¸ƒ minor ç‰ˆæœ¬
standard-version --release-as minor

# å‘å¸ƒ patch ç‰ˆæœ¬
standard-version --release-as patch
```

### ç‰ˆæœ¬å·è„šæœ¬

```typescript
// scripts/version.ts
import { readFileSync, writeFileSync } from 'fs';
import { execSync } from 'child_process';

interface Version {
  major: number;
  minor: number;
  patch: number;
}

function parseVersion(version: string): Version {
  const [major, minor, patch] = version.split('.').map(Number);
  return { major, minor, patch };
}

function stringifyVersion(version: Version): string {
  return `${version.major}.${version.minor}.${version.patch}`;
}

function bumpType(version: string, type: 'major' | 'minor' | 'patch'): string {
  const v = parseVersion(version);

  switch (type) {
    case 'major':
      v.major++;
      v.minor = 0;
      v.patch = 0;
      break;
    case 'minor':
      v.minor++;
      v.patch = 0;
      break;
    case 'patch':
      v.patch++;
      break;
  }

  return stringifyVersion(v);
}

// è¯»å–å½“å‰ç‰ˆæœ¬
const pkg = JSON.parse(readFileSync('package.json', 'utf-8'));
const currentVersion = pkg.version;

// è®¡ç®—æ–°ç‰ˆæœ¬
const newVersion = bumpType(currentVersion, 'minor');

// æ›´æ–° package.json
pkg.version = newVersion;
writeFileSync('package.json', JSON.stringify(pkg, null, 2));

console.log(`Version bumped from ${currentVersion} to ${newVersion}`);
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [10-CI-CDæµæ°´çº¿](./10-CI-CDæµæ°´çº¿.md)
- [12-å›æ»šä¸ç¾å¤‡](./12-å›æ»šä¸ç¾å¤‡.md)

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/YYC-Cube/YYC3-PortAISys
- **é—®é¢˜åé¦ˆ**: https://github.com/YYC-Cube/YYC3-PortAISys/issues
- **é‚®ç®±**: admin@0379.email

---

> **ã€Œä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒã€**
> **All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence**

Made with â¤ï¸ by YYCÂ³ Team
