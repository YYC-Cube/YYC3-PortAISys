# YYCÂ³ æ–‡æ¡£åŒæ­¥å·¥å…·æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ–æ–¹æ¡ˆ

## æ–‡æ¡£ä¿¡æ¯

**æ–‡æ¡£åç§°**: æ–‡æ¡£åŒæ­¥å·¥å…·æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ–æ–¹æ¡ˆ  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-20  
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ  
**ç»´æŠ¤å›¢é˜Ÿ**: YYCÂ³ æ€§èƒ½ä¼˜åŒ–å›¢é˜Ÿ  

---

## ä¸€ã€æ€§èƒ½æµ‹è¯•æ¦‚è¿°

### 1.1 æµ‹è¯•ç›®æ ‡

**æ ¸å¿ƒç›®æ ‡**:
1. éªŒè¯ç³»ç»Ÿåœ¨æ­£å¸¸ã€å³°å€¼ã€å¼‚å¸¸åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°
2. è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
3. åˆ¶å®šä¼˜åŒ–æ–¹æ¡ˆ
4. å»ºç«‹æ€§èƒ½åŸºå‡†

**å…·ä½“ç›®æ ‡**:
- æ–‡ä»¶å˜æ›´æ£€æµ‹å»¶è¿Ÿ: < 1ç§’
- åŒæ­¥å‘½ä»¤æ‰§è¡Œæ—¶é—´: < 2ç§’
- åŒæ­¥æˆåŠŸç‡: â‰¥ 99.99%
- ç³»ç»Ÿèµ„æºå ç”¨: CPU < 50%, å†…å­˜ < 70%
- å¹¶å‘å¤„ç†èƒ½åŠ›: â‰¥ 50ä¸ªåŒæ­¥ä»»åŠ¡/åˆ†é’Ÿ

### 1.2 æµ‹è¯•èŒƒå›´

**æµ‹è¯•åœºæ™¯**:
1. æ­£å¸¸åœºæ™¯: æ—¥å¸¸ä½¿ç”¨åœºæ™¯
2. å³°å€¼åœºæ™¯: é«˜å¹¶å‘ã€å¤§æ•°æ®é‡åœºæ™¯
3. å¼‚å¸¸åœºæ™¯: é”™è¯¯å¤„ç†ã€æ¢å¤åœºæ™¯

**æµ‹è¯•æŒ‡æ ‡**:
1. å“åº”æ—¶é—´
2. ååé‡
3. å¹¶å‘èƒ½åŠ›
4. èµ„æºå ç”¨
5. ç¨³å®šæ€§

---

## äºŒã€æ€§èƒ½æµ‹è¯•æ–¹æ¡ˆ

### 2.1 æ­£å¸¸åœºæ™¯æµ‹è¯•

#### 2.1.1 å•æ–‡ä»¶åŒæ­¥æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯å•ä¸ªæ–‡ä»¶åŒæ­¥çš„æ€§èƒ½è¡¨ç°

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºæµ‹è¯•æ–‡æ¡£æ–‡ä»¶
2. ä¿®æ”¹æ–‡æ¡£å†…å®¹
3. è§¦å‘åŒæ­¥
4. æµ‹é‡åŒæ­¥æ—¶é—´
5. éªŒè¯åŒæ­¥ç»“æœ

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | æ–‡ä»¶å¤§å° | æ–‡ä»¶ç±»å‹ | é¢„æœŸæ—¶é—´ | å®é™…æ—¶é—´ | ç»“æœ |
|--------|----------|----------|----------|----------|------|
| TC-N-001 | 1KB | æ–‡æœ¬ | < 1ç§’ | - | å¾…æµ‹ |
| TC-N-002 | 10KB | æ–‡æœ¬ | < 1ç§’ | - | å¾…æµ‹ |
| TC-N-003 | 100KB | æ–‡æœ¬ | < 2ç§’ | - | å¾…æµ‹ |
| TC-N-004 | 1MB | æ–‡æœ¬ | < 5ç§’ | - | å¾…æµ‹ |
| TC-N-005 | 10MB | æ–‡æœ¬ | < 10ç§’ | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª å•æ–‡ä»¶åŒæ­¥æµ‹è¯•"
echo "=================="

# æµ‹è¯•ä¸åŒå¤§å°çš„æ–‡ä»¶
for size in 1 10 100 1024 10240; do
    echo "æµ‹è¯•æ–‡ä»¶å¤§å°: ${size}KB"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    dd if=/dev/zero of=docs/test-${size}kb.txt bs=1024 count=$size 2>/dev/null
    
    # è®°å½•å¼€å§‹æ—¶é—´
    start_time=$(date +%s.%N)
    
    # è§¦å‘åŒæ­¥
    node dist/index.js sync docs/test-${size}kb.txt
    
    # è®°å½•ç»“æŸæ—¶é—´
    end_time=$(date +%s.%N)
    
    # è®¡ç®—è€—æ—¶
    duration=$(echo "$end_time - $start_time" | bc)
    
    echo "è€—æ—¶: ${duration}ç§’"
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-${size}kb.txt
    rm -f core/test-${size}kb.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

#### 2.1.2 æ‰¹é‡æ–‡ä»¶åŒæ­¥æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯æ‰¹é‡æ–‡ä»¶åŒæ­¥çš„æ€§èƒ½è¡¨ç°

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºå¤šä¸ªæµ‹è¯•æ–‡ä»¶
2. ä¿®æ”¹æ–‡ä»¶å†…å®¹
3. è§¦å‘æ‰¹é‡åŒæ­¥
4. æµ‹é‡åŒæ­¥æ—¶é—´
5. éªŒè¯åŒæ­¥ç»“æœ

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | æ–‡ä»¶æ•°é‡ | æ–‡ä»¶å¤§å° | é¢„æœŸæ—¶é—´ | å®é™…æ—¶é—´ | ç»“æœ |
|--------|----------|----------|----------|----------|------|
| TC-N-010 | 10 | 10KB | < 5ç§’ | - | å¾…æµ‹ |
| TC-N-011 | 50 | 10KB | < 20ç§’ | - | å¾…æµ‹ |
| TC-N-012 | 100 | 10KB | < 40ç§’ | - | å¾…æµ‹ |
| TC-N-013 | 500 | 10KB | < 200ç§’ | - | å¾…æµ‹ |
| TC-N-014 | 1000 | 10KB | < 400ç§’ | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª æ‰¹é‡æ–‡ä»¶åŒæ­¥æµ‹è¯•"
echo "==================="

# æµ‹è¯•ä¸åŒæ•°é‡çš„æ–‡ä»¶
for count in 10 50 100 500 1000; do
    echo "æµ‹è¯•æ–‡ä»¶æ•°é‡: ${count}"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    for i in $(seq 1 $count); do
        echo "# æµ‹è¯•æ–‡ä»¶ $i" > docs/test-batch-$i.md
    done
    
    # è®°å½•å¼€å§‹æ—¶é—´
    start_time=$(date +%s.%N)
    
    # è§¦å‘æ‰¹é‡åŒæ­¥
    for i in $(seq 1 $count); do
        node dist/index.js sync docs/test-batch-$i.md
    done
    
    # è®°å½•ç»“æŸæ—¶é—´
    end_time=$(date +%s.%N)
    
    # è®¡ç®—è€—æ—¶
    duration=$(echo "$end_time - $start_time" | bc)
    
    echo "æ€»è€—æ—¶: ${duration}ç§’"
    echo "å¹³å‡è€—æ—¶: $(echo "$duration / $count" | bc)ç§’/æ–‡ä»¶"
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-batch-*.md
    rm -f core/test-batch-*.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

#### 2.1.3 åŒå‘åŒæ­¥æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯åŒå‘åŒæ­¥çš„æ€§èƒ½è¡¨ç°

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºæµ‹è¯•æ–‡æ¡£å’Œä»£ç æ–‡ä»¶
2. ä¿®æ”¹æ–‡æ¡£å†…å®¹
3. ç­‰å¾…æ–‡æ¡£åˆ°ä»£ç åŒæ­¥
4. ä¿®æ”¹ä»£ç å†…å®¹
5. ç­‰å¾…ä»£ç åˆ°æ–‡æ¡£åŒæ­¥
6. æµ‹é‡åŒæ­¥æ—¶é—´
7. éªŒè¯åŒæ­¥ç»“æœ

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | æ–‡ä»¶å¤§å° | é¢„æœŸæ—¶é—´ | å®é™…æ—¶é—´ | ç»“æœ |
|--------|----------|----------|----------|------|
| TC-N-020 | 10KB | < 2ç§’ | - | å¾…æµ‹ |
| TC-N-021 | 100KB | < 4ç§’ | - | å¾…æµ‹ |
| TC-N-022 | 1MB | < 10ç§’ | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª åŒå‘åŒæ­¥æµ‹è¯•"
echo "==============="

# æµ‹è¯•ä¸åŒå¤§å°çš„æ–‡ä»¶
for size in 10 100 1024; do
    echo "æµ‹è¯•æ–‡ä»¶å¤§å°: ${size}KB"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    dd if=/dev/zero of=docs/test-bidirectional.md bs=1024 count=$size 2>/dev/null
    dd if=/dev/zero of=core/test-bidirectional.ts bs=1024 count=$size 2>/dev/null
    
    # è®°å½•å¼€å§‹æ—¶é—´
    start_time=$(date +%s.%N)
    
    # æ–‡æ¡£åˆ°ä»£ç åŒæ­¥
    echo "# æ–‡æ¡£ä¿®æ”¹ $(date)" > docs/test-bidirectional.md
    sleep 3
    
    # ä»£ç åˆ°æ–‡æ¡£åŒæ­¥
    echo "// ä»£ç ä¿®æ”¹ $(date)" > core/test-bidirectional.ts
    sleep 3
    
    # è®°å½•ç»“æŸæ—¶é—´
    end_time=$(date +%s.%N)
    
    # è®¡ç®—è€—æ—¶
    duration=$(echo "$end_time - $start_time" | bc)
    
    echo "è€—æ—¶: ${duration}ç§’"
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-bidirectional.md
    rm -f core/test-bidirectional.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

### 2.2 å³°å€¼åœºæ™¯æµ‹è¯•

#### 2.2.1 é«˜å¹¶å‘åŒæ­¥æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯ç³»ç»Ÿåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹çš„æ€§èƒ½è¡¨ç°

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºå¤šä¸ªæµ‹è¯•æ–‡ä»¶
2. åŒæ—¶è§¦å‘å¤šä¸ªåŒæ­¥ä»»åŠ¡
3. æµ‹é‡ç³»ç»Ÿå“åº”
4. ç›‘æ§èµ„æºå ç”¨
5. éªŒè¯åŒæ­¥ç»“æœ

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | å¹¶å‘æ•° | æ–‡ä»¶å¤§å° | é¢„æœŸååé‡ | å®é™…ååé‡ | ç»“æœ |
|--------|--------|----------|------------|------------|------|
| TC-P-001 | 10 | 10KB | â‰¥ 10/åˆ†é’Ÿ | - | å¾…æµ‹ |
| TC-P-002 | 50 | 10KB | â‰¥ 50/åˆ†é’Ÿ | - | å¾…æµ‹ |
| TC-P-003 | 100 | 10KB | â‰¥ 100/åˆ†é’Ÿ | - | å¾…æµ‹ |
| TC-P-004 | 200 | 10KB | â‰¥ 150/åˆ†é’Ÿ | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª é«˜å¹¶å‘åŒæ­¥æµ‹è¯•"
echo "================="

# æµ‹è¯•ä¸åŒå¹¶å‘æ•°
for concurrent in 10 50 100 200; do
    echo "æµ‹è¯•å¹¶å‘æ•°: ${concurrent}"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    for i in $(seq 1 $concurrent); do
        echo "# æµ‹è¯•æ–‡ä»¶ $i" > docs/test-concurrent-$i.md
    done
    
    # è®°å½•å¼€å§‹æ—¶é—´
    start_time=$(date +%s.%N)
    
    # å¹¶å‘è§¦å‘åŒæ­¥
    for i in $(seq 1 $concurrent); do
        node dist/index.js sync docs/test-concurrent-$i.md &
    done
    
    # ç­‰å¾…æ‰€æœ‰åŒæ­¥å®Œæˆ
    wait
    
    # è®°å½•ç»“æŸæ—¶é—´
    end_time=$(date +%s.%N)
    
    # è®¡ç®—è€—æ—¶
    duration=$(echo "$end_time - $start_time" | bc)
    
    # è®¡ç®—ååé‡
    throughput=$(echo "$concurrent / $duration * 60" | bc)
    
    echo "æ€»è€—æ—¶: ${duration}ç§’"
    echo "ååé‡: ${throughput}ä¸ª/åˆ†é’Ÿ"
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-concurrent-*.md
    rm -f core/test-concurrent-*.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

#### 2.2.2 å¤§æ–‡ä»¶åŒæ­¥æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯ç³»ç»Ÿå¤„ç†å¤§æ–‡ä»¶çš„èƒ½åŠ›

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºå¤§æ–‡ä»¶
2. è§¦å‘åŒæ­¥
3. æµ‹é‡åŒæ­¥æ—¶é—´
4. ç›‘æ§èµ„æºå ç”¨
5. éªŒè¯åŒæ­¥ç»“æœ

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | æ–‡ä»¶å¤§å° | é¢„æœŸæ—¶é—´ | å®é™…æ—¶é—´ | ç»“æœ |
|--------|----------|----------|----------|------|
| TC-P-010 | 10MB | < 10ç§’ | - | å¾…æµ‹ |
| TC-P-011 | 50MB | < 30ç§’ | - | å¾…æµ‹ |
| TC-P-012 | 100MB | < 60ç§’ | - | å¾…æµ‹ |
| TC-P-013 | 500MB | < 300ç§’ | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª å¤§æ–‡ä»¶åŒæ­¥æµ‹è¯•"
echo "================"

# æµ‹è¯•ä¸åŒå¤§å°çš„æ–‡ä»¶
for size in 10240 51200 102400 512000; do
    size_mb=$((size / 1024))
    echo "æµ‹è¯•æ–‡ä»¶å¤§å°: ${size_mb}MB"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    dd if=/dev/zero of=docs/test-large.txt bs=1024 count=$size 2>/dev/null
    
    # è®°å½•å¼€å§‹æ—¶é—´
    start_time=$(date +%s.%N)
    
    # è§¦å‘åŒæ­¥
    node dist/index.js sync docs/test-large.txt
    
    # è®°å½•ç»“æŸæ—¶é—´
    end_time=$(date +%s.%N)
    
    # è®¡ç®—è€—æ—¶
    duration=$(echo "$end_time - $start_time" | bc)
    
    echo "è€—æ—¶: ${duration}ç§’"
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-large.txt
    rm -f core/test-large.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

#### 2.2.3 é«˜é¢‘æ›´æ–°æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯ç³»ç»Ÿåœ¨é«˜é¢‘æ›´æ–°æƒ…å†µä¸‹çš„æ€§èƒ½è¡¨ç°

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. é«˜é¢‘ä¿®æ”¹æ–‡ä»¶å†…å®¹
3. è§¦å‘åŒæ­¥
4. æµ‹é‡ç³»ç»Ÿå“åº”
5. ç›‘æ§èµ„æºå ç”¨
6. éªŒè¯åŒæ­¥ç»“æœ

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | æ›´æ–°é¢‘ç‡ | æ–‡ä»¶æ•°é‡ | é¢„æœŸæˆåŠŸç‡ | å®é™…æˆåŠŸç‡ | ç»“æœ |
|--------|----------|----------|------------|------------|------|
| TC-P-020 | 1æ¬¡/ç§’ | 10 | â‰¥ 99% | - | å¾…æµ‹ |
| TC-P-021 | 5æ¬¡/ç§’ | 10 | â‰¥ 95% | - | å¾…æµ‹ |
| TC-P-022 | 10æ¬¡/ç§’ | 10 | â‰¥ 90% | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª é«˜é¢‘æ›´æ–°æµ‹è¯•"
echo "=============="

# æµ‹è¯•ä¸åŒæ›´æ–°é¢‘ç‡
for frequency in 1 5 10; do
    echo "æµ‹è¯•æ›´æ–°é¢‘ç‡: ${frequency}æ¬¡/ç§’"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    for i in $(seq 1 10); do
        echo "# æµ‹è¯•æ–‡ä»¶ $i" > docs/test-freq-$i.md
    done
    
    # è®°å½•å¼€å§‹æ—¶é—´
    start_time=$(date +%s.%N)
    
    # é«˜é¢‘æ›´æ–°
    for j in $(seq 1 60); do
        for i in $(seq 1 10); do
            echo "# æµ‹è¯•æ–‡ä»¶ $i - æ›´æ–° $j" > docs/test-freq-$i.md
        done
        sleep $(echo "1 / $frequency" | bc -l)
    done
    
    # ç­‰å¾…åŒæ­¥å®Œæˆ
    sleep 5
    
    # è®°å½•ç»“æŸæ—¶é—´
    end_time=$(date +%s.%N)
    
    # è®¡ç®—è€—æ—¶
    duration=$(echo "$end_time - $start_time" | bc)
    
    echo "æ€»è€—æ—¶: ${duration}ç§’"
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-freq-*.md
    rm -f core/test-freq-*.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

### 2.3 å¼‚å¸¸åœºæ™¯æµ‹è¯•

#### 2.3.1 æ–‡ä»¶å†²çªæµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯ç³»ç»Ÿå¤„ç†æ–‡ä»¶å†²çªçš„èƒ½åŠ›

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. åŒæ—¶ä¿®æ”¹æ–‡æ¡£å’Œä»£ç 
3. è§¦å‘åŒæ­¥
4. éªŒè¯å†²çªæ£€æµ‹
5. éªŒè¯å†²çªè§£å†³

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | å†²çªç±»å‹ | é¢„æœŸè¡Œä¸º | å®é™…è¡Œä¸º | ç»“æœ |
|--------|----------|----------|----------|------|
| TC-E-001 | å†…å®¹å†²çª | æ£€æµ‹åˆ°å†²çª | - | å¾…æµ‹ |
| TC-E-002 | æ—¶é—´å†²çª | æ£€æµ‹åˆ°å†²çª | - | å¾…æµ‹ |
| TC-E-003 | ç±»å‹å†²çª | æ£€æµ‹åˆ°å†²çª | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª æ–‡ä»¶å†²çªæµ‹è¯•"
echo "=============="

# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
echo "# åŸå§‹å†…å®¹" > docs/test-conflict.md
echo "// åŸå§‹å†…å®¹" > core/test-conflict.ts

# åŒæ—¶ä¿®æ”¹
echo "# æ–‡æ¡£ä¿®æ”¹" > docs/test-conflict.md &
echo "// ä»£ç ä¿®æ”¹" > core/test-conflict.ts &

wait

# è§¦å‘åŒæ­¥
node dist/index.js sync docs/test-conflict.md

# æ£€æŸ¥æ˜¯å¦æ£€æµ‹åˆ°å†²çª
if grep -q "å†²çª" logs/sync.log; then
    echo "âœ… å†²çªæ£€æµ‹æˆåŠŸ"
else
    echo "âŒ å†²çªæ£€æµ‹å¤±è´¥"
fi

# æ¸…ç†æµ‹è¯•æ–‡ä»¶
rm -f docs/test-conflict.md
rm -f core/test-conflict.ts

echo "âœ… æµ‹è¯•å®Œæˆ"
```

#### 2.3.2 ç½‘ç»œä¸­æ–­æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯ç³»ç»Ÿåœ¨ç½‘ç»œä¸­æ–­æƒ…å†µä¸‹çš„æ¢å¤èƒ½åŠ›

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. è§¦å‘åŒæ­¥
3. æ¨¡æ‹Ÿç½‘ç»œä¸­æ–­
4. æ¢å¤ç½‘ç»œ
5. éªŒè¯åŒæ­¥æ¢å¤

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | ä¸­æ–­æ—¶é•¿ | é¢„æœŸè¡Œä¸º | å®é™…è¡Œä¸º | ç»“æœ |
|--------|----------|----------|----------|------|
| TC-E-010 | 1ç§’ | è‡ªåŠ¨æ¢å¤ | - | å¾…æµ‹ |
| TC-E-011 | 10ç§’ | è‡ªåŠ¨æ¢å¤ | - | å¾…æµ‹ |
| TC-E-012 | 60ç§’ | è‡ªåŠ¨æ¢å¤ | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª ç½‘ç»œä¸­æ–­æµ‹è¯•"
echo "=============="

# æµ‹è¯•ä¸åŒä¸­æ–­æ—¶é•¿
for duration in 1 10 60; do
    echo "æµ‹è¯•ä¸­æ–­æ—¶é•¿: ${duration}ç§’"
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    echo "# æµ‹è¯•å†…å®¹" > docs/test-network.md
    
    # è§¦å‘åŒæ­¥
    node dist/index.js sync docs/test-network.md &
    SYNC_PID=$!
    
    # ç­‰å¾…åŒæ­¥å¼€å§‹
    sleep 1
    
    # æ¨¡æ‹Ÿç½‘ç»œä¸­æ–­
    sudo ifconfig lo down
    sleep $duration
    sudo ifconfig lo up
    
    # ç­‰å¾…åŒæ­¥å®Œæˆ
    wait $SYNC_PID
    
    # æ£€æŸ¥åŒæ­¥ç»“æœ
    if [ -f "core/test-network.ts" ]; then
        echo "âœ… åŒæ­¥æ¢å¤æˆåŠŸ"
    else
        echo "âŒ åŒæ­¥æ¢å¤å¤±è´¥"
    fi
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f docs/test-network.md
    rm -f core/test-network.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

#### 2.3.3 ç£ç›˜ç©ºé—´ä¸è¶³æµ‹è¯•

**æµ‹è¯•ç›®çš„**: éªŒè¯ç³»ç»Ÿåœ¨ç£ç›˜ç©ºé—´ä¸è¶³æƒ…å†µä¸‹çš„å¤„ç†èƒ½åŠ›

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºå¤§æ–‡ä»¶å ç”¨ç£ç›˜ç©ºé—´
2. è§¦å‘åŒæ­¥
3. éªŒè¯é”™è¯¯å¤„ç†
4. æ¸…ç†ç£ç›˜ç©ºé—´
5. éªŒè¯æ¢å¤

**æµ‹è¯•ç”¨ä¾‹**:

| ç”¨ä¾‹ID | å‰©ä½™ç©ºé—´ | é¢„æœŸè¡Œä¸º | å®é™…è¡Œä¸º | ç»“æœ |
|--------|----------|----------|----------|------|
| TC-E-020 | 100MB | æŠ¥é”™æç¤º | - | å¾…æµ‹ |
| TC-E-021 | 10MB | æŠ¥é”™æç¤º | - | å¾…æµ‹ |
| TC-E-022 | 1MB | æŠ¥é”™æç¤º | - | å¾…æµ‹ |

**æµ‹è¯•è„šæœ¬**:
```bash
#!/bin/bash

echo "ğŸ§ª ç£ç›˜ç©ºé—´ä¸è¶³æµ‹è¯•"
echo "=================="

# æµ‹è¯•ä¸åŒå‰©ä½™ç©ºé—´
for size in 100 10 1; do
    echo "æµ‹è¯•å‰©ä½™ç©ºé—´: ${size}MB"
    
    # åˆ›å»ºå¤§æ–‡ä»¶å ç”¨ç£ç›˜ç©ºé—´
    dd if=/dev/zero of=filler.tmp bs=1024 count=$((1024 * 1024 - size * 1024)) 2>/dev/null
    
    # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    echo "# æµ‹è¯•å†…å®¹" > docs/test-disk.md
    
    # è§¦å‘åŒæ­¥
    node dist/index.js sync docs/test-disk.md
    
    # æ£€æŸ¥æ˜¯å¦æŠ¥é”™
    if grep -q "ç£ç›˜ç©ºé—´ä¸è¶³" logs/sync.log; then
        echo "âœ… é”™è¯¯å¤„ç†æ­£ç¡®"
    else
        echo "âŒ é”™è¯¯å¤„ç†å¤±è´¥"
    fi
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    rm -f filler.tmp
    rm -f docs/test-disk.md
    rm -f core/test-disk.ts
    
    echo ""
done

echo "âœ… æµ‹è¯•å®Œæˆ"
```

---

## ä¸‰ã€æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

### 3.1 å‰ç«¯ä¼˜åŒ–

#### 3.1.1 ä»£ç åˆ†å‰²

**ä¼˜åŒ–ç›®æ ‡**: å‡å°‘åˆå§‹åŠ è½½æ—¶é—´

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. ä½¿ç”¨åŠ¨æ€å¯¼å…¥
2. æŒ‰è·¯ç”±åˆ†å‰²ä»£ç 
3. æŒ‰åŠŸèƒ½åˆ†å‰²ä»£ç 

**å®æ–½ç¤ºä¾‹**:
```typescript
// åŠ¨æ€å¯¼å…¥
const Dashboard = dynamic(() => import('@/components/Dashboard'), {
  loading: () => <LoadingSpinner />
});

// è·¯ç”±çº§åˆ†å‰²
const router = [
  {
    path: '/dashboard',
    component: () => import('@/pages/Dashboard')
  }
];
```

**é¢„æœŸæ•ˆæœ**: åˆå§‹åŠ è½½æ—¶é—´å‡å°‘ 50%

#### 3.1.2 ç¼“å­˜ç­–ç•¥

**ä¼˜åŒ–ç›®æ ‡**: å‡å°‘é‡å¤è¯·æ±‚

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. ä½¿ç”¨SWRè¿›è¡Œæ•°æ®ç¼“å­˜
2. å®ç°æœ¬åœ°å­˜å‚¨ç¼“å­˜
3. å®ç°Service Workerç¼“å­˜

**å®æ–½ç¤ºä¾‹**:
```typescript
// SWRç¼“å­˜
const { data, error } = useSWR('/api/mappings', fetcher, {
  revalidateOnFocus: false,
  dedupingInterval: 60000
});

// æœ¬åœ°å­˜å‚¨ç¼“å­˜
const cache = {
  get: (key: string) => {
    const item = localStorage.getItem(key);
    if (item) {
      const { value, expiry } = JSON.parse(item);
      if (Date.now() < expiry) {
        return value;
      }
    }
    return null;
  },
  set: (key: string, value: any, ttl: number) => {
    const item = {
      value,
      expiry: Date.now() + ttl * 1000
    };
    localStorage.setItem(key, JSON.stringify(item));
  }
};
```

**é¢„æœŸæ•ˆæœ**: é‡å¤è¯·æ±‚å‡å°‘ 80%

#### 3.1.3 å›¾ç‰‡ä¼˜åŒ–

**ä¼˜åŒ–ç›®æ ‡**: å‡å°‘å›¾ç‰‡åŠ è½½æ—¶é—´

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. ä½¿ç”¨Next.js Imageç»„ä»¶
2. å®ç°æ‡’åŠ è½½
3. ä½¿ç”¨WebPæ ¼å¼

**å®æ–½ç¤ºä¾‹**:
```typescript
import Image from 'next/image';

<Image
  src="/logo.png"
  alt="Logo"
  width={200}
  height={200}
  loading="lazy"
  placeholder="blur"
/>
```

**é¢„æœŸæ•ˆæœ**: å›¾ç‰‡åŠ è½½æ—¶é—´å‡å°‘ 60%

### 3.2 åç«¯ä¼˜åŒ–

#### 3.2.1 æ•°æ®åº“ä¼˜åŒ–

**ä¼˜åŒ–ç›®æ ‡**: æé«˜æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. åˆ›å»ºåˆé€‚çš„ç´¢å¼•
2. ä¼˜åŒ–æŸ¥è¯¢è¯­å¥
3. ä½¿ç”¨è¿æ¥æ± 
4. å®ç°æŸ¥è¯¢ç¼“å­˜

**å®æ–½ç¤ºä¾‹**:
```sql
-- åˆ›å»ºç´¢å¼•
CREATE INDEX CONCURRENTLY idx_mappings_document ON mappings(document);
CREATE INDEX CONCURRENTLY idx_mappings_sync_status ON mappings(sync_status);
CREATE INDEX CONCURRENTLY idx_sync_tasks_mapping_id ON sync_tasks(mapping_id);

-- ä¼˜åŒ–æŸ¥è¯¢
SELECT * FROM mappings
WHERE sync_status = 'pending'
ORDER BY created_at
LIMIT 100;

-- ä½¿ç”¨è¿æ¥æ± 
const prisma = new PrismaClient({
  datasources: {
    db: {
      url: process.env.DATABASE_URL,
      connectionLimit: 10
    }
  }
});
```

**é¢„æœŸæ•ˆæœ**: æŸ¥è¯¢æ—¶é—´å‡å°‘ 70%

#### 3.2.2 APIä¼˜åŒ–

**ä¼˜åŒ–ç›®æ ‡**: æé«˜APIå“åº”é€Ÿåº¦

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. å®ç°APIç¼“å­˜
2. ä½¿ç”¨æ‰¹é‡æŸ¥è¯¢
3. å®ç°åˆ†é¡µ
4. å‹ç¼©å“åº”æ•°æ®

**å®æ–½ç¤ºä¾‹**:
```typescript
// APIç¼“å­˜
import { LRUCache } from 'lru-cache';

const cache = new LRUCache<string, any>({
  max: 100,
  ttl: 1000 * 60 * 5 // 5åˆ†é’Ÿ
});

app.get('/api/mappings', async (req, res) => {
  const cacheKey = `mappings:${JSON.stringify(req.query)}`;
  
  // æ£€æŸ¥ç¼“å­˜
  const cached = cache.get(cacheKey);
  if (cached) {
    return res.json(cached);
  }
  
  // æŸ¥è¯¢æ•°æ®
  const mappings = await prisma.mapping.findMany({
    skip: (req.query.page - 1) * req.query.pageSize,
    take: req.query.pageSize
  });
  
  // è®¾ç½®ç¼“å­˜
  cache.set(cacheKey, mappings);
  
  res.json(mappings);
});

// æ‰¹é‡æŸ¥è¯¢
app.get('/api/mappings/batch', async (req, res) => {
  const { ids } = req.body;
  
  const mappings = await prisma.mapping.findMany({
    where: {
      id: { in: ids }
    }
  });
  
  res.json(mappings);
});
```

**é¢„æœŸæ•ˆæœ**: APIå“åº”æ—¶é—´å‡å°‘ 60%

#### 3.2.3 å¹¶å‘æ§åˆ¶

**ä¼˜åŒ–ç›®æ ‡**: æé«˜å¹¶å‘å¤„ç†èƒ½åŠ›

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. ä½¿ç”¨çº¿ç¨‹æ± 
2. å®ç°ä»»åŠ¡é˜Ÿåˆ—
3. é™åˆ¶å¹¶å‘æ•°
4. å®ç°è´Ÿè½½å‡è¡¡

**å®æ–½ç¤ºä¾‹**:
```typescript
import { Worker, isMainThread, parentPort, workerData } from 'worker_threads';
import { Queue } from 'bull';

// ä»»åŠ¡é˜Ÿåˆ—
const syncQueue = new Queue('sync', {
  redis: process.env.REDIS_URL,
  defaultJobOptions: {
    attempts: 3,
    backoff: {
      type: 'exponential',
      delay: 1000
    }
  }
});

// å¤„ç†åŒæ­¥ä»»åŠ¡
syncQueue.process(async (job) => {
  const { mappingId } = job.data;
  
  // æ‰§è¡ŒåŒæ­¥
  await syncMapping(mappingId);
  
  return { success: true };
});

// æ·»åŠ åŒæ­¥ä»»åŠ¡
await syncQueue.add('sync', { mappingId: 'mapping-001' });

// é™åˆ¶å¹¶å‘æ•°
syncQueue.process(50, async (job) => {
  // å¤„ç†ä»»åŠ¡
});
```

**é¢„æœŸæ•ˆæœ**: å¹¶å‘å¤„ç†èƒ½åŠ›æé«˜ 200%

### 3.3 ç³»ç»Ÿä¼˜åŒ–

#### 3.3.1 èµ„æºä¼˜åŒ–

**ä¼˜åŒ–ç›®æ ‡**: å‡å°‘ç³»ç»Ÿèµ„æºå ç”¨

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. ä¼˜åŒ–å†…å­˜ä½¿ç”¨
2. ä¼˜åŒ–CPUä½¿ç”¨
3. ä¼˜åŒ–ç£ç›˜I/O
4. ä¼˜åŒ–ç½‘ç»œI/O

**å®æ–½ç¤ºä¾‹**:
```typescript
// å†…å­˜ä¼˜åŒ–
class SyncManager {
  private cache = new LRUCache<string, any>({
    max: 1000,
    ttl: 1000 * 60 * 10 // 10åˆ†é’Ÿ
  });
  
  private async syncMapping(mappingId: string) {
    // æ£€æŸ¥ç¼“å­˜
    const cached = this.cache.get(mappingId);
    if (cached) {
      return cached;
    }
    
    // æ‰§è¡ŒåŒæ­¥
    const result = await this.performSync(mappingId);
    
    // è®¾ç½®ç¼“å­˜
    this.cache.set(mappingId, result);
    
    return result;
  }
}

// CPUä¼˜åŒ–
import { Worker } from 'worker_threads';

function performHeavyTask(data: any) {
  return new Promise((resolve, reject) => {
    const worker = new Worker('./worker.js', { workerData: data });
    
    worker.on('message', resolve);
    worker.on('error', reject);
    worker.on('exit', (code) => {
      if (code !== 0) {
        reject(new Error(`Worker stopped with exit code ${code}`));
      }
    });
  });
}

// ç£ç›˜I/Oä¼˜åŒ–
import { promises as fs } from 'fs';
import { pipeline } from 'stream/promises';

async function copyFile(src: string, dest: string) {
  await pipeline(
    fs.createReadStream(src),
    fs.createWriteStream(dest)
  );
}
```

**é¢„æœŸæ•ˆæœ**: èµ„æºå ç”¨å‡å°‘ 40%

#### 3.3.2 ç›‘æ§ä¼˜åŒ–

**ä¼˜åŒ–ç›®æ ‡**: æé«˜ç›‘æ§æ•ˆç‡

**ä¼˜åŒ–æ–¹æ¡ˆ**:
1. ä¼˜åŒ–ç›‘æ§æŒ‡æ ‡
2. å‡å°‘ç›‘æ§é¢‘ç‡
3. å®ç°é‡‡æ ·ç›‘æ§
4. ä¼˜åŒ–æ—¥å¿—è¾“å‡º

**å®æ–½ç¤ºä¾‹**:
```typescript
// ä¼˜åŒ–ç›‘æ§æŒ‡æ ‡
const metrics = {
  syncSuccessRate: {
    enabled: true,
    threshold: { warning: 95, critical: 90 },
    calculationInterval: 60 // 60ç§’è®¡ç®—ä¸€æ¬¡
  },
  syncLatency: {
    enabled: true,
    threshold: { warning: 5000, critical: 10000 },
    unit: 'ms'
  }
};

// é‡‡æ ·ç›‘æ§
class SamplingMonitor {
  private samples: number[] = [];
  private maxSamples = 100;
  
  addSample(value: number) {
    this.samples.push(value);
    if (this.samples.length > this.maxSamples) {
      this.samples.shift();
    }
  }
  
  getAverage() {
    if (this.samples.length === 0) return 0;
    const sum = this.samples.reduce((a, b) => a + b, 0);
    return sum / this.samples.length;
  }
}

// ä¼˜åŒ–æ—¥å¿—è¾“å‡º
const logger = {
  info: (message: string, data?: any) => {
    if (process.env.LOG_LEVEL === 'info' || process.env.LOG_LEVEL === 'debug') {
      console.log(`[INFO] ${message}`, data);
    }
  },
  error: (message: string, error?: any) => {
    console.error(`[ERROR] ${message}`, error);
  }
};
```

**é¢„æœŸæ•ˆæœ**: ç›‘æ§å¼€é”€å‡å°‘ 50%

---

## å››ã€æ€§èƒ½åŸºå‡†

### 4.1 åŸºå‡†æŒ‡æ ‡

**å“åº”æ—¶é—´åŸºå‡†**:
- æ–‡ä»¶å˜æ›´æ£€æµ‹: < 1ç§’
- å•æ–‡ä»¶åŒæ­¥: < 2ç§’
- æ‰¹é‡åŒæ­¥(100ä¸ªæ–‡ä»¶): < 40ç§’
- APIå“åº”: < 500ms

**ååé‡åŸºå‡†**:
- åŒæ­¥ä»»åŠ¡: â‰¥ 50ä¸ª/åˆ†é’Ÿ
- APIè¯·æ±‚: â‰¥ 1000æ¬¡/åˆ†é’Ÿ
- æ–‡ä»¶ç›‘æ§: â‰¥ 1000ä¸ªæ–‡ä»¶

**èµ„æºå ç”¨åŸºå‡†**:
- CPU: < 50%
- å†…å­˜: < 70%
- ç£ç›˜: < 80%

**ç¨³å®šæ€§åŸºå‡†**:
- ç³»ç»Ÿå¯ç”¨æ€§: â‰¥ 99.9%
- åŒæ­¥æˆåŠŸç‡: â‰¥ 99.99%
- é”™è¯¯ç‡: < 0.01%

### 4.2 æ€§èƒ½ç›®æ ‡

**çŸ­æœŸç›®æ ‡** (1ä¸ªæœˆ):
- å“åº”æ—¶é—´å‡å°‘ 30%
- ååé‡æé«˜ 50%
- èµ„æºå ç”¨å‡å°‘ 20%

**ä¸­æœŸç›®æ ‡** (3ä¸ªæœˆ):
- å“åº”æ—¶é—´å‡å°‘ 50%
- ååé‡æé«˜ 100%
- èµ„æºå ç”¨å‡å°‘ 40%

**é•¿æœŸç›®æ ‡** (6ä¸ªæœˆ):
- å“åº”æ—¶é—´å‡å°‘ 70%
- ååé‡æé«˜ 200%
- èµ„æºå ç”¨å‡å°‘ 60%

---

## äº”ã€æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†YYCÂ³æ–‡æ¡£åŒæ­¥å·¥å…·çš„æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ­£å¸¸åœºæ™¯æµ‹è¯•ã€å³°å€¼åœºæ™¯æµ‹è¯•ã€å¼‚å¸¸åœºæ™¯æµ‹è¯•ï¼Œä»¥åŠå‰ç«¯ä¼˜åŒ–ã€åç«¯ä¼˜åŒ–å’Œç³»ç»Ÿä¼˜åŒ–æ–¹æ¡ˆã€‚

é€šè¿‡æŒ‰ç…§æœ¬æ–¹æ¡ˆæ‰§è¡Œæ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–ï¼Œå¯ä»¥æ˜¾è‘—æå‡ç³»ç»Ÿæ€§èƒ½ï¼Œæ»¡è¶³ç”Ÿäº§ç¯å¢ƒè¦æ±‚ã€‚

---

**æ–‡æ¡£ç»“æŸ**

**ç­¾å**: YYCÂ³ æ€§èƒ½ä¼˜åŒ–å›¢é˜Ÿ  
**æ—¥æœŸ**: 2026-01-20
